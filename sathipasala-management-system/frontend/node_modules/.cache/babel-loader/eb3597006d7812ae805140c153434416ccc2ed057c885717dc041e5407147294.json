{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sathipasala\\\\sathipasala-management-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\AttendanceAnalysis.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendanceAnalysis = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [summary, setSummary] = useState({\n    totalStudents: 0,\n    averageAttendance: 0,\n    highestAttendanceDay: '',\n    lowestAttendanceDay: ''\n  });\n  const currentDate = new Date();\n  const currentMonth = currentDate.getMonth() + 1;\n  const currentYear = currentDate.getFullYear();\n  const [filters, setFilters] = useState({\n    month: currentMonth,\n    year: currentYear,\n    classYear: '',\n    classCode: '',\n    studentId: '',\n    searchTerm: ''\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        await Promise.all([fetchStudents(), fetchAttendanceData()]);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        setError(error.message || \"Failed to load attendance data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [filters.month, filters.year, filters.classYear, filters.classCode, filters.studentId]);\n  const fetchStudents = async () => {\n    try {\n      const queryParams = new URLSearchParams();\n      if (filters.classYear) queryParams.append('classYear', filters.classYear);\n      if (filters.classCode) queryParams.append('classCode', filters.classCode);\n      const res = await axios.get(`/api/students?${queryParams.toString()}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setStudents(res.data.data || []);\n      return res.data.data || [];\n    } catch (error) {\n      console.error(\"Error fetching students:\", error);\n      // For development, generate mock student data\n      const mockStudents = Array(25).fill(0).map((_, i) => ({\n        _id: `student-${i + 1}`,\n        studentId: `SATHI-2023-${['A', 'B', 'C', 'D'][i % 4]}-${String(i + 1).padStart(3, '0')}`,\n        name: {\n          en: `Student ${i + 1}`,\n          si: `සිසුවා ${i + 1}`\n        },\n        classYear: '2023',\n        classCode: ['A', 'B', 'C', 'D'][i % 4]\n      }));\n      setStudents(mockStudents);\n      return mockStudents;\n    }\n  };\n\n  // Get all Sundays in the selected month/year\n  const getSundaysInMonth = (month, year) => {\n    const sundays = [];\n    const date = new Date(year, month - 1, 1);\n\n    // Find first Sunday\n    while (date.getDay() !== 0) {\n      date.setDate(date.getDate() + 1);\n    }\n\n    // Get all Sundays in the month\n    while (date.getMonth() === month - 1) {\n      sundays.push(new Date(date));\n      date.setDate(date.getDate() + 7);\n    }\n    return sundays;\n  };\n  const fetchAttendanceData = async () => {\n    try {\n      const sundays = getSundaysInMonth(filters.month, filters.year);\n      if (sundays.length === 0) {\n        setAttendanceData([]);\n        setSummary({\n          totalStudents: students.length,\n          averageAttendance: 0,\n          highestAttendanceDay: '',\n          lowestAttendanceDay: ''\n        });\n        return;\n      }\n      let queryParams = new URLSearchParams();\n      queryParams.append('month', filters.month);\n      queryParams.append('year', filters.year);\n      if (filters.classYear) queryParams.append('classYear', filters.classYear);\n      if (filters.classCode) queryParams.append('classCode', filters.classCode);\n      if (filters.studentId) queryParams.append('studentId', filters.studentId);\n      const res = await axios.get(`/api/attendance/monthly?${queryParams.toString()}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      // Process attendance data\n      const attendanceData = res.data.data;\n      setAttendanceData(attendanceData);\n\n      // Calculate summary statistics\n      if (attendanceData && attendanceData.dailyAttendance) {\n        const totalStudentCount = students.length;\n        let totalPresent = 0;\n        let highestDay = {\n          date: '',\n          count: 0\n        };\n        let lowestDay = {\n          date: '',\n          count: totalStudentCount\n        };\n        Object.entries(attendanceData.dailyAttendance).forEach(([date, data]) => {\n          totalPresent += data.presentCount || 0;\n          if ((data.presentCount || 0) > highestDay.count) {\n            highestDay = {\n              date,\n              count: data.presentCount || 0\n            };\n          }\n          if ((data.presentCount || 0) < lowestDay.count) {\n            lowestDay = {\n              date,\n              count: data.presentCount || 0\n            };\n          }\n        });\n        const daysCount = Object.keys(attendanceData.dailyAttendance).length;\n        const averageAttendance = daysCount > 0 ? (totalPresent / (daysCount * totalStudentCount) * 100).toFixed(1) : 0;\n        setSummary({\n          totalStudents: totalStudentCount,\n          averageAttendance,\n          highestAttendanceDay: highestDay.date ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)` : '-',\n          lowestAttendanceDay: lowestDay.date ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)` : '-'\n        });\n      } else {\n        // Generate mock data for development/demonstration\n        const mockData = generateMockData(sundays, filters.month, filters.year, students.length);\n        setAttendanceData(mockData);\n\n        // Calculate mock summary statistics\n        let totalPresent = 0;\n        let highestDay = {\n          date: '',\n          count: 0\n        };\n        let lowestDay = {\n          date: '',\n          count: students.length\n        };\n        Object.entries(mockData.dailyAttendance).forEach(([date, data]) => {\n          totalPresent += data.presentCount || 0;\n          if ((data.presentCount || 0) > highestDay.count) {\n            highestDay = {\n              date,\n              count: data.presentCount || 0\n            };\n          }\n          if ((data.presentCount || 0) < lowestDay.count && data.presentCount > 0) {\n            lowestDay = {\n              date,\n              count: data.presentCount || 0\n            };\n          }\n        });\n        const daysCount = Object.keys(mockData.dailyAttendance).length;\n        const averageAttendance = daysCount > 0 && students.length > 0 ? (totalPresent / (daysCount * students.length) * 100).toFixed(1) : 0;\n        setSummary({\n          totalStudents: students.length,\n          averageAttendance,\n          highestAttendanceDay: highestDay.date ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)` : '-',\n          lowestAttendanceDay: lowestDay.date ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)` : '-'\n        });\n      }\n    } catch (error) {\n      console.error(\"Error fetching attendance data:\", error);\n\n      // For development/demonstration, generate mock data\n      const sundays = getSundaysInMonth(filters.month, filters.year);\n      const mockData = generateMockData(sundays, filters.month, filters.year, students.length);\n      setAttendanceData(mockData);\n\n      // Calculate mock summary statistics as above\n      // (This is duplicate code, but it's just for demonstration)\n      let totalPresent = 0;\n      let highestDay = {\n        date: '',\n        count: 0\n      };\n      let lowestDay = {\n        date: '',\n        count: students.length\n      };\n      Object.entries(mockData.dailyAttendance).forEach(([date, data]) => {\n        totalPresent += data.presentCount || 0;\n        if ((data.presentCount || 0) > highestDay.count) {\n          highestDay = {\n            date,\n            count: data.presentCount || 0\n          };\n        }\n        if ((data.presentCount || 0) < lowestDay.count && data.presentCount > 0) {\n          lowestDay = {\n            date,\n            count: data.presentCount || 0\n          };\n        }\n      });\n      const daysCount = Object.keys(mockData.dailyAttendance).length;\n      const averageAttendance = daysCount > 0 && students.length > 0 ? (totalPresent / (daysCount * students.length) * 100).toFixed(1) : 0;\n      setSummary({\n        totalStudents: students.length,\n        averageAttendance,\n        highestAttendanceDay: highestDay.date ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)` : '-',\n        lowestAttendanceDay: lowestDay.date ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)` : '-'\n      });\n    }\n  };\n\n  // Function to generate realistic mock data for Sunday-only classes\n  const generateMockData = (sundays, month, year, totalStudentCount) => {\n    const mockDailyAttendance = {};\n    sundays.forEach(sunday => {\n      const dateStr = sunday.toISOString().split('T')[0];\n      const presentCount = Math.floor(Math.random() * (totalStudentCount * 0.4)) + Math.floor(totalStudentCount * 0.5);\n      const absentCount = totalStudentCount - presentCount;\n      mockDailyAttendance[dateStr] = {\n        date: dateStr,\n        totalCount: totalStudentCount,\n        presentCount,\n        absentCount,\n        lateCount: Math.floor(Math.random() * 5),\n        attendanceRate: (presentCount / totalStudentCount * 100).toFixed(1)\n      };\n    });\n    return {\n      month,\n      year,\n      totalStudents: totalStudentCount,\n      dailyAttendance: mockDailyAttendance\n    };\n  };\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleStudentSelect = e => {\n    const selectedId = e.target.value;\n    setFilters(prev => ({\n      ...prev,\n      studentId: selectedId\n    }));\n  };\n  const handleSearch = e => {\n    setFilters(prev => ({\n      ...prev,\n      searchTerm: e.target.value\n    }));\n  };\n  const handleExportCSV = () => {\n    if (!(attendanceData !== null && attendanceData !== void 0 && attendanceData.dailyAttendance)) return;\n\n    // Create CSV content\n    const headers = \"Date,Total Students,Present,Absent,Late,Attendance Rate\\n\";\n    const rows = Object.values(attendanceData.dailyAttendance).map(day => `${day.date},${day.totalCount},${day.presentCount},${day.absentCount},${day.lateCount},${day.attendanceRate}%`).join('\\n');\n    const csvContent = headers + rows;\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.setAttribute('href', url);\n    link.setAttribute('download', `attendance-${filters.year}-${String(filters.month).padStart(2, '0')}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  const filteredStudents = students.filter(student => {\n    var _student$name$si;\n    return !filters.searchTerm || student.name.en.toLowerCase().includes(filters.searchTerm.toLowerCase()) || ((_student$name$si = student.name.si) === null || _student$name$si === void 0 ? void 0 : _student$name$si.toLowerCase().includes(filters.searchTerm.toLowerCase())) || student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase());\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0\",\n          children: t('admin.attendance.monthlyAnalysis')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportCSV,\n            className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",\n            disabled: !(attendanceData !== null && attendanceData !== void 0 && attendanceData.dailyAttendance) || Object.keys(attendanceData.dailyAttendance).length === 0,\n            children: t('admin.export.csv')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.month')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"month\",\n            value: filters.month,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: months.map((month, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: index + 1,\n              children: t(`admin.months.${month.toLowerCase()}`)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.year')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"year\",\n            value: filters.year,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: currentYear - i,\n              children: currentYear - i\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.students.classYear')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"classYear\",\n            value: filters.classYear,\n            onChange: handleFilterChange,\n            placeholder: currentYear.toString(),\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.students.classCode')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"classCode\",\n            value: filters.classCode,\n            onChange: handleFilterChange,\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: t('admin.filters.all')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"A\",\n              children: \"A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"B\",\n              children: \"B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"C\",\n              children: \"C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"D\",\n              children: \"D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.search')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filters.searchTerm,\n            onChange: handleSearch,\n            placeholder: t('admin.attendance.searchPlaceholder'),\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), filteredStudents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.students.selectStudent')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.studentId,\n            onChange: handleStudentSelect,\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: t('admin.filters.all')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), filteredStudents.map(student => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: student._id,\n              children: [student.studentId, \" - \", student.name.en]\n            }, student._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 mb-4 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.totalStudents')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-blue-800 dark:text-blue-200\",\n            children: summary.totalStudents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 dark:bg-green-900 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.averageAttendance')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-green-800 dark:text-green-200\",\n            children: [summary.averageAttendance, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.highestAttendance')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-purple-800 dark:text-purple-200\",\n            children: summary.highestAttendanceDay\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: t('admin.attendance.lowestAttendance')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-yellow-800 dark:text-yellow-200\",\n            children: summary.lowestAttendanceDay\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: t('admin.attendance.dailyAttendanceChart')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), !loading && attendanceData !== null && attendanceData !== void 0 && attendanceData.dailyAttendance && Object.keys(attendanceData.dailyAttendance).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1\",\n            children: Object.values(attendanceData.dailyAttendance).map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-40 relative flex flex-col-reverse\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-green-500 w-full absolute bottom-0\",\n                  style: {\n                    height: `${day.attendanceRate}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"absolute top-0 left-0 right-0 text-center text-xs\",\n                  children: [day.attendanceRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-center mt-2 truncate\",\n                children: new Date(day.date).getDate()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 21\n              }, this)]\n            }, day.date, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-center mt-2\",\n            children: t(`admin.months.${months[filters.month - 1].toLowerCase()}`)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this) : !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\",\n          children: t('admin.attendance.noDataFound')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: t('admin.attendance.dailyBreakdown')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this), !loading && attendanceData !== null && attendanceData !== void 0 && attendanceData.dailyAttendance && Object.keys(attendanceData.dailyAttendance).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto rounded-lg shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full bg-white dark:bg-gray-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100 dark:bg-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.date')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.totalStudents')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.present')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.absent')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.late')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\",\n                  children: t('admin.attendance.attendanceRate')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200 dark:divide-gray-700\",\n              children: Object.values(attendanceData.dailyAttendance).sort((a, b) => new Date(a.date) - new Date(b.date)).map(day => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50 dark:hover:bg-gray-900\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-gray-900 dark:text-white\",\n                  children: [new Date(day.date).toLocaleDateString(), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-xs text-blue-600 dark:text-blue-400\",\n                    children: t('admin.attendance.weekend')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-gray-900 dark:text-white\",\n                  children: day.totalCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-green-600 dark:text-green-400\",\n                  children: day.presentCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-red-600 dark:text-red-400\",\n                  children: day.absentCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-yellow-600 dark:text-yellow-400\",\n                  children: day.lateCount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-16 bg-gray-200 rounded-full h-2.5 mr-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-green-600 h-2.5 rounded-full\",\n                        style: {\n                          width: `${day.attendanceRate}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [day.attendanceRate, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 25\n                }, this)]\n              }, day.date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 13\n        }, this) : !loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\",\n          children: t('admin.attendance.noDataFound')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceAnalysis, \"fhFkJkV2uos5G+vgYuVGFHRKDkM=\", false, function () {\n  return [useTranslation];\n});\n_c = AttendanceAnalysis;\nexport default AttendanceAnalysis;\nvar _c;\n$RefreshReg$(_c, \"AttendanceAnalysis\");","map":{"version":3,"names":["useState","useEffect","useTranslation","axios","jsxDEV","_jsxDEV","AttendanceAnalysis","_s","t","loading","setLoading","error","setError","attendanceData","setAttendanceData","students","setStudents","summary","setSummary","totalStudents","averageAttendance","highestAttendanceDay","lowestAttendanceDay","currentDate","Date","currentMonth","getMonth","currentYear","getFullYear","filters","setFilters","month","year","classYear","classCode","studentId","searchTerm","fetchData","Promise","all","fetchStudents","fetchAttendanceData","console","message","queryParams","URLSearchParams","append","res","get","toString","headers","Authorization","localStorage","getItem","data","mockStudents","Array","fill","map","_","i","_id","String","padStart","name","en","si","getSundaysInMonth","sundays","date","getDay","setDate","getDate","push","length","dailyAttendance","totalStudentCount","totalPresent","highestDay","count","lowestDay","Object","entries","forEach","presentCount","daysCount","keys","toFixed","toLocaleDateString","mockData","generateMockData","mockDailyAttendance","sunday","dateStr","toISOString","split","Math","floor","random","absentCount","totalCount","lateCount","attendanceRate","handleFilterChange","e","value","target","prev","handleStudentSelect","selectedId","handleSearch","handleExportCSV","rows","values","day","join","csvContent","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","setAttribute","style","visibility","body","appendChild","click","removeChild","months","filteredStudents","filter","student","_student$name$si","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","onChange","index","placeholder","height","sort","a","b","width","_c","$RefreshReg$"],"sources":["D:/Sathipasala/sathipasala-management-system/frontend/src/pages/admin/AttendanceAnalysis.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport axios from 'axios';\r\n\r\nconst AttendanceAnalysis = () => {\r\n  const { t } = useTranslation();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [summary, setSummary] = useState({\r\n    totalStudents: 0,\r\n    averageAttendance: 0,\r\n    highestAttendanceDay: '',\r\n    lowestAttendanceDay: '',\r\n  });\r\n\r\n  const currentDate = new Date();\r\n  const currentMonth = currentDate.getMonth() + 1;\r\n  const currentYear = currentDate.getFullYear();\r\n\r\n  const [filters, setFilters] = useState({\r\n    month: currentMonth,\r\n    year: currentYear,\r\n    classYear: '',\r\n    classCode: '',\r\n    studentId: '',\r\n    searchTerm: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        await Promise.all([\r\n          fetchStudents(),\r\n          fetchAttendanceData()\r\n        ]);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        setError(error.message || \"Failed to load attendance data\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [filters.month, filters.year, filters.classYear, filters.classCode, filters.studentId]);\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const queryParams = new URLSearchParams();\r\n      if (filters.classYear) queryParams.append('classYear', filters.classYear);\r\n      if (filters.classCode) queryParams.append('classCode', filters.classCode);\r\n      \r\n      const res = await axios.get(`/api/students?${queryParams.toString()}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      setStudents(res.data.data || []);\r\n      return res.data.data || [];\r\n    } catch (error) {\r\n      console.error(\"Error fetching students:\", error);\r\n      // For development, generate mock student data\r\n      const mockStudents = Array(25).fill(0).map((_, i) => ({\r\n        _id: `student-${i+1}`,\r\n        studentId: `SATHI-2023-${['A', 'B', 'C', 'D'][i % 4]}-${String(i+1).padStart(3, '0')}`,\r\n        name: { en: `Student ${i+1}`, si: `සිසුවා ${i+1}` },\r\n        classYear: '2023',\r\n        classCode: ['A', 'B', 'C', 'D'][i % 4]\r\n      }));\r\n      setStudents(mockStudents);\r\n      return mockStudents;\r\n    }\r\n  };\r\n\r\n  // Get all Sundays in the selected month/year\r\n  const getSundaysInMonth = (month, year) => {\r\n    const sundays = [];\r\n    const date = new Date(year, month - 1, 1);\r\n    \r\n    // Find first Sunday\r\n    while (date.getDay() !== 0) {\r\n      date.setDate(date.getDate() + 1);\r\n    }\r\n    \r\n    // Get all Sundays in the month\r\n    while (date.getMonth() === month - 1) {\r\n      sundays.push(new Date(date));\r\n      date.setDate(date.getDate() + 7);\r\n    }\r\n    \r\n    return sundays;\r\n  };\r\n  \r\n  const fetchAttendanceData = async () => {\r\n    try {\r\n      const sundays = getSundaysInMonth(filters.month, filters.year);\r\n      \r\n      if (sundays.length === 0) {\r\n        setAttendanceData([]);\r\n        setSummary({\r\n          totalStudents: students.length,\r\n          averageAttendance: 0,\r\n          highestAttendanceDay: '',\r\n          lowestAttendanceDay: ''\r\n        });\r\n        return;\r\n      }\r\n      \r\n      let queryParams = new URLSearchParams();\r\n      queryParams.append('month', filters.month);\r\n      queryParams.append('year', filters.year);\r\n      \r\n      if (filters.classYear) queryParams.append('classYear', filters.classYear);\r\n      if (filters.classCode) queryParams.append('classCode', filters.classCode);\r\n      if (filters.studentId) queryParams.append('studentId', filters.studentId);\r\n      \r\n      const res = await axios.get(`/api/attendance/monthly?${queryParams.toString()}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      // Process attendance data\r\n      const attendanceData = res.data.data;\r\n      setAttendanceData(attendanceData);\r\n      \r\n      // Calculate summary statistics\r\n      if (attendanceData && attendanceData.dailyAttendance) {\r\n        const totalStudentCount = students.length;\r\n        let totalPresent = 0;\r\n        let highestDay = { date: '', count: 0 };\r\n        let lowestDay = { date: '', count: totalStudentCount };\r\n        \r\n        Object.entries(attendanceData.dailyAttendance).forEach(([date, data]) => {\r\n          totalPresent += data.presentCount || 0;\r\n          \r\n          if ((data.presentCount || 0) > highestDay.count) {\r\n            highestDay = { date, count: data.presentCount || 0 };\r\n          }\r\n          \r\n          if ((data.presentCount || 0) < lowestDay.count) {\r\n            lowestDay = { date, count: data.presentCount || 0 };\r\n          }\r\n        });\r\n        \r\n        const daysCount = Object.keys(attendanceData.dailyAttendance).length;\r\n        const averageAttendance = daysCount > 0 \r\n          ? (totalPresent / (daysCount * totalStudentCount) * 100).toFixed(1) \r\n          : 0;\r\n        \r\n        setSummary({\r\n          totalStudents: totalStudentCount,\r\n          averageAttendance,\r\n          highestAttendanceDay: highestDay.date \r\n            ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)`\r\n            : '-',\r\n          lowestAttendanceDay: lowestDay.date \r\n            ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)`\r\n            : '-'\r\n        });\r\n      } else {\r\n        // Generate mock data for development/demonstration\r\n        const mockData = generateMockData(sundays, filters.month, filters.year, students.length);\r\n        setAttendanceData(mockData);\r\n        \r\n        // Calculate mock summary statistics\r\n        let totalPresent = 0;\r\n        let highestDay = { date: '', count: 0 };\r\n        let lowestDay = { date: '', count: students.length };\r\n        \r\n        Object.entries(mockData.dailyAttendance).forEach(([date, data]) => {\r\n          totalPresent += data.presentCount || 0;\r\n          \r\n          if ((data.presentCount || 0) > highestDay.count) {\r\n            highestDay = { date, count: data.presentCount || 0 };\r\n          }\r\n          \r\n          if ((data.presentCount || 0) < lowestDay.count && data.presentCount > 0) {\r\n            lowestDay = { date, count: data.presentCount || 0 };\r\n          }\r\n        });\r\n        \r\n        const daysCount = Object.keys(mockData.dailyAttendance).length;\r\n        const averageAttendance = daysCount > 0 && students.length > 0\r\n          ? (totalPresent / (daysCount * students.length) * 100).toFixed(1) \r\n          : 0;\r\n        \r\n        setSummary({\r\n          totalStudents: students.length,\r\n          averageAttendance,\r\n          highestAttendanceDay: highestDay.date \r\n            ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)`\r\n            : '-',\r\n          lowestAttendanceDay: lowestDay.date \r\n            ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)`\r\n            : '-'\r\n        });\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(\"Error fetching attendance data:\", error);\r\n      \r\n      // For development/demonstration, generate mock data\r\n      const sundays = getSundaysInMonth(filters.month, filters.year);\r\n      const mockData = generateMockData(sundays, filters.month, filters.year, students.length);\r\n      setAttendanceData(mockData);\r\n      \r\n      // Calculate mock summary statistics as above\r\n      // (This is duplicate code, but it's just for demonstration)\r\n      let totalPresent = 0;\r\n      let highestDay = { date: '', count: 0 };\r\n      let lowestDay = { date: '', count: students.length };\r\n      \r\n      Object.entries(mockData.dailyAttendance).forEach(([date, data]) => {\r\n        totalPresent += data.presentCount || 0;\r\n        \r\n        if ((data.presentCount || 0) > highestDay.count) {\r\n          highestDay = { date, count: data.presentCount || 0 };\r\n        }\r\n        \r\n        if ((data.presentCount || 0) < lowestDay.count && data.presentCount > 0) {\r\n          lowestDay = { date, count: data.presentCount || 0 };\r\n        }\r\n      });\r\n      \r\n      const daysCount = Object.keys(mockData.dailyAttendance).length;\r\n      const averageAttendance = daysCount > 0 && students.length > 0\r\n        ? (totalPresent / (daysCount * students.length) * 100).toFixed(1) \r\n        : 0;\r\n      \r\n      setSummary({\r\n        totalStudents: students.length,\r\n        averageAttendance,\r\n        highestAttendanceDay: highestDay.date \r\n          ? `${new Date(highestDay.date).toLocaleDateString()} (${highestDay.count} students)`\r\n          : '-',\r\n        lowestAttendanceDay: lowestDay.date \r\n          ? `${new Date(lowestDay.date).toLocaleDateString()} (${lowestDay.count} students)`\r\n          : '-'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Function to generate realistic mock data for Sunday-only classes\r\n  const generateMockData = (sundays, month, year, totalStudentCount) => {\r\n    const mockDailyAttendance = {};\r\n    \r\n    sundays.forEach(sunday => {\r\n      const dateStr = sunday.toISOString().split('T')[0];\r\n      const presentCount = Math.floor(Math.random() * (totalStudentCount * 0.4)) + Math.floor(totalStudentCount * 0.5);\r\n      const absentCount = totalStudentCount - presentCount;\r\n      \r\n      mockDailyAttendance[dateStr] = {\r\n        date: dateStr,\r\n        totalCount: totalStudentCount,\r\n        presentCount,\r\n        absentCount,\r\n        lateCount: Math.floor(Math.random() * 5),\r\n        attendanceRate: ((presentCount / totalStudentCount) * 100).toFixed(1)\r\n      };\r\n    });\r\n    \r\n    return {\r\n      month,\r\n      year,\r\n      totalStudents: totalStudentCount,\r\n      dailyAttendance: mockDailyAttendance\r\n    };\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleStudentSelect = (e) => {\r\n    const selectedId = e.target.value;\r\n    setFilters(prev => ({ ...prev, studentId: selectedId }));\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setFilters(prev => ({ ...prev, searchTerm: e.target.value }));\r\n  };\r\n\r\n  const handleExportCSV = () => {\r\n    if (!attendanceData?.dailyAttendance) return;\r\n    \r\n    // Create CSV content\r\n    const headers = \"Date,Total Students,Present,Absent,Late,Attendance Rate\\n\";\r\n    const rows = Object.values(attendanceData.dailyAttendance).map(day => \r\n      `${day.date},${day.totalCount},${day.presentCount},${day.absentCount},${day.lateCount},${day.attendanceRate}%`\r\n    ).join('\\n');\r\n    \r\n    const csvContent = headers + rows;\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    const link = document.createElement('a');\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', `attendance-${filters.year}-${String(filters.month).padStart(2, '0')}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n  \r\n  const months = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n  \r\n  const filteredStudents = students.filter(student => \r\n    !filters.searchTerm || \r\n    student.name.en.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\r\n    student.name.si?.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\r\n    student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0\">\r\n            {t('admin.attendance.monthlyAnalysis')}\r\n          </h2>\r\n          \r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={handleExportCSV}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\r\n              disabled={!attendanceData?.dailyAttendance || Object.keys(attendanceData.dailyAttendance).length === 0}\r\n            >\r\n              {t('admin.export.csv')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.month')}\r\n            </label>\r\n            <select\r\n              name=\"month\"\r\n              value={filters.month}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              {months.map((month, index) => (\r\n                <option key={index} value={index + 1}>\r\n                  {t(`admin.months.${month.toLowerCase()}`)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.year')}\r\n            </label>\r\n            <select\r\n              name=\"year\"\r\n              value={filters.year}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              {[...Array(5)].map((_, i) => (\r\n                <option key={i} value={currentYear - i}>\r\n                  {currentYear - i}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.students.classYear')}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"classYear\"\r\n              value={filters.classYear}\r\n              onChange={handleFilterChange}\r\n              placeholder={currentYear.toString()}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.students.classCode')}\r\n            </label>\r\n            <select\r\n              name=\"classCode\"\r\n              value={filters.classCode}\r\n              onChange={handleFilterChange}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              <option value=\"\">{t('admin.filters.all')}</option>\r\n              <option value=\"A\">A</option>\r\n              <option value=\"B\">B</option>\r\n              <option value=\"C\">C</option>\r\n              <option value=\"D\">D</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.search')}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={filters.searchTerm}\r\n              onChange={handleSearch}\r\n              placeholder={t('admin.attendance.searchPlaceholder')}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            />\r\n          </div>\r\n          \r\n          {filteredStudents.length > 0 && (\r\n            <div className=\"md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                {t('admin.students.selectStudent')}\r\n              </label>\r\n              <select\r\n                value={filters.studentId}\r\n                onChange={handleStudentSelect}\r\n                className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n              >\r\n                <option value=\"\">{t('admin.filters.all')}</option>\r\n                {filteredStudents.map(student => (\r\n                  <option key={student._id} value={student._id}>\r\n                    {student.studentId} - {student.name.en}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"p-3 mb-4 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Loading Indicator */}\r\n        {loading && (\r\n          <div className=\"flex justify-center items-center p-8\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Summary Statistics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          <div className=\"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.totalStudents')}\r\n            </h3>\r\n            <p className=\"text-lg font-semibold text-blue-800 dark:text-blue-200\">\r\n              {summary.totalStudents}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"bg-green-50 dark:bg-green-900 p-4 rounded-lg\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.averageAttendance')}\r\n            </h3>\r\n            <p className=\"text-lg font-semibold text-green-800 dark:text-green-200\">\r\n              {summary.averageAttendance}%\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"bg-purple-50 dark:bg-purple-900 p-4 rounded-lg\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.highestAttendance')}\r\n            </h3>\r\n            <p className=\"text-lg font-semibold text-purple-800 dark:text-purple-200\">\r\n              {summary.highestAttendanceDay}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg\">\r\n            <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {t('admin.attendance.lowestAttendance')}\r\n            </h3>\r\n            <p className=\"text-lg font-semibold text-yellow-800 dark:text-yellow-200\">\r\n              {summary.lowestAttendanceDay}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Daily Attendance Chart */}\r\n        <div className=\"mb-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n            {t('admin.attendance.dailyAttendanceChart')}\r\n          </h3>\r\n          \r\n          {!loading && attendanceData?.dailyAttendance && Object.keys(attendanceData.dailyAttendance).length > 0 ? (\r\n            <div className=\"relative\">\r\n              <div className=\"flex space-x-1\">\r\n                {Object.values(attendanceData.dailyAttendance).map(day => (\r\n                  <div key={day.date} className=\"flex-1\">\r\n                    <div className=\"h-40 relative flex flex-col-reverse\">\r\n                      <div \r\n                        className=\"bg-green-500 w-full absolute bottom-0\"\r\n                        style={{ height: `${day.attendanceRate}%` }}\r\n                      ></div>\r\n                      <span className=\"absolute top-0 left-0 right-0 text-center text-xs\">\r\n                        {day.attendanceRate}%\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-xs text-center mt-2 truncate\">\r\n                      {new Date(day.date).getDate()}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"text-xs text-center mt-2\">\r\n                {t(`admin.months.${months[filters.month-1].toLowerCase()}`)}\r\n              </div>\r\n            </div>\r\n          ) : !loading ? (\r\n            <div className=\"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\">\r\n              {t('admin.attendance.noDataFound')}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        \r\n        {/* Daily Breakdown Table */}\r\n        <div>\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n            {t('admin.attendance.dailyBreakdown')}\r\n          </h3>\r\n          \r\n          {!loading && attendanceData?.dailyAttendance && Object.keys(attendanceData.dailyAttendance).length > 0 ? (\r\n            <div className=\"overflow-x-auto rounded-lg shadow\">\r\n              <table className=\"min-w-full bg-white dark:bg-gray-800\">\r\n                <thead className=\"bg-gray-100 dark:bg-gray-700\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.date')}\r\n                    </th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.totalStudents')}\r\n                    </th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.present')}\r\n                    </th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.absent')}\r\n                    </th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.late')}\r\n                    </th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                      {t('admin.attendance.attendanceRate')}\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                \r\n                <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                  {Object.values(attendanceData.dailyAttendance)\r\n                    .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n                    .map(day => (\r\n                      <tr key={day.date} className=\"hover:bg-gray-50 dark:hover:bg-gray-900\">\r\n                        <td className=\"px-4 py-2 text-sm text-gray-900 dark:text-white\">\r\n                          {new Date(day.date).toLocaleDateString()}\r\n                          <span className=\"ml-2 text-xs text-blue-600 dark:text-blue-400\">\r\n                            {t('admin.attendance.weekend')}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm text-gray-900 dark:text-white\">\r\n                          {day.totalCount}\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm text-green-600 dark:text-green-400\">\r\n                          {day.presentCount}\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm text-red-600 dark:text-red-400\">\r\n                          {day.absentCount}\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm text-yellow-600 dark:text-yellow-400\">\r\n                          {day.lateCount}\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm\">\r\n                          <div className=\"flex items-center\">\r\n                            <div className=\"w-16 bg-gray-200 rounded-full h-2.5 mr-2\">\r\n                              <div \r\n                                className=\"bg-green-600 h-2.5 rounded-full\" \r\n                                style={{ width: `${day.attendanceRate}%` }}\r\n                              ></div>\r\n                            </div>\r\n                            <span>{day.attendanceRate}%</span>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : !loading ? (\r\n            <div className=\"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\">\r\n              {t('admin.attendance.noDataFound')}\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}