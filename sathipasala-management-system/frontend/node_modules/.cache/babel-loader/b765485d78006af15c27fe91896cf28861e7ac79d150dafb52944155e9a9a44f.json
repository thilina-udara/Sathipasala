{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sathipasala\\\\sathipasala-management-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\AttendanceAnalysis.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, BarChart, Bar, PieChart, Pie, Cell, Legend } from 'recharts';\n\n// Sinhala/English labels (no translation keys)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LABELS = {\n  en: {\n    analysis: 'Attendance Analysis',\n    exportCSV: 'Export CSV',\n    month: 'Month',\n    year: 'Year',\n    class: 'Class',\n    search: 'Search',\n    selectStudent: 'Select Student',\n    all: 'All',\n    totalStudents: 'Total Students',\n    avgAttendance: 'Average Attendance',\n    highestAttendance: 'Highest Attendance',\n    lowestAttendance: 'Lowest Attendance',\n    trend: 'Attendance Trend',\n    sundays: 'Sundays',\n    poya: 'Poya Days',\n    flower: 'Flower Pūjā',\n    dailyBreakdown: 'Daily Breakdown',\n    date: 'Date',\n    present: 'Present',\n    absent: 'Absent',\n    late: 'Late',\n    attendanceRate: 'Attendance Rate',\n    sunday: 'Sunday',\n    noData: 'No data found',\n    flowerParticipation: 'Flower Pūjā Participation',\n    flowerType: 'Flower Type',\n    brought: 'Brought',\n    notBrought: 'Not Brought',\n    students: 'students',\n    adh: 'Adhiṭṭhāna',\n    met: 'Mettā',\n    kha: 'Khanti',\n    nek: 'Nekkhamma',\n    individual: 'Individual Student Analysis',\n    eventType: 'Event Type',\n    poyaDay: 'Poya Day',\n    special: 'Special Event'\n  },\n  si: {\n    analysis: 'ඉදිරිපත් කිරීම',\n    exportCSV: 'CSV ලෙස සුරකින්න',\n    month: 'මාසය',\n    year: 'අවුරුද්ද',\n    class: 'පංතිය',\n    search: 'සෙවීම',\n    selectStudent: 'ශිෂ්‍යයා තෝරන්න',\n    all: 'සියල්ල',\n    totalStudents: 'මුළු ශිෂ්‍යයන්',\n    avgAttendance: 'සාමාන්‍ය පැමිණීම',\n    highestAttendance: 'ඉහළම පැමිණීම',\n    lowestAttendance: 'අඩුම පැමිණීම',\n    trend: 'පැමිණීමේ ප්‍රවණතාව',\n    sundays: 'ඉරිදා',\n    poya: 'පෝය දිනයන්',\n    flower: 'මල් පූජා',\n    dailyBreakdown: 'දිනපතා විස්තරය',\n    date: 'දිනය',\n    present: 'පැමිණි',\n    absent: 'නොපැමිණි',\n    late: 'ප්‍රමාදව පැමිණි',\n    attendanceRate: 'පැමිණීමේ ප්‍රතිශතය',\n    sunday: 'ඉරිදා',\n    noData: 'දත්ත නොමැත',\n    flowerParticipation: 'මල් පූජා සහභාගිත්වය',\n    flowerType: 'මල් වර්ගය',\n    brought: 'ගෙනා',\n    notBrought: 'නැත',\n    students: 'ශිෂ්‍යයන්',\n    adh: 'අධිඨාන',\n    met: 'මෙත්තා',\n    kha: 'ඛන්ති',\n    nek: 'නෙක්කම්ම',\n    individual: 'තනි ශිෂ්‍ය විශ්ලේෂණය',\n    eventType: 'සිදුවීමේ වර්ගය',\n    poyaDay: 'පෝය දිනය',\n    special: 'විශේෂ අවස්ථාව'\n  }\n};\nconst MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nconst MONTHS_SI = ['ජනවාරි', 'පෙබරවාරි', 'මාර්තු', 'අප්‍රේල්', 'මැයි', 'ජූනි', 'ජූලි', 'අගෝස්තු', 'සැප්තැම්බර්', 'ඔක්තෝබර්', 'නොවැම්බර්', 'දෙසැම්බර්'];\n\n// Mock Poya and Flower Pūjā days for demo\nconst getPoyaDays = (month, year) => {\n  // For demo, return 2nd and 4th Sunday as Poya\n  const sundays = getSundaysInMonth(month, year);\n  return sundays.length >= 2 ? [sundays[1], sundays[3] || sundays[2]] : [];\n};\nconst getFlowerDays = (month, year) => {\n  // For demo, return 1st Sunday as Flower Pūjā\n  const sundays = getSundaysInMonth(month, year);\n  return sundays.length ? [sundays[0]] : [];\n};\n\n// Helper: Get all Sundays in a month\nfunction getSundaysInMonth(month, year) {\n  const sundays = [];\n  const date = new Date(year, month - 1, 1);\n  while (date.getDay() !== 0) date.setDate(date.getDate() + 1);\n  while (date.getMonth() === month - 1) {\n    sundays.push(new Date(date));\n    date.setDate(date.getDate() + 7);\n  }\n  return sundays;\n}\nconst COLORS = ['#10b981', '#ef4444', '#f59e42', '#6366f1'];\nconst AttendanceAnalysis = () => {\n  _s();\n  // Language switch (replace with your actual language state)\n  const [lang, setLang] = useState(localStorage.getItem('lang') || 'en');\n  const L = LABELS[lang];\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [summary, setSummary] = useState({\n    totalStudents: 0,\n    averageAttendance: 0,\n    highestAttendanceDay: '',\n    lowestAttendanceDay: ''\n  });\n  const [flowerData, setFlowerData] = useState([]);\n  const [selectedStudent, setSelectedStudent] = useState('');\n  const [filters, setFilters] = useState({\n    month: new Date().getMonth() + 1,\n    year: new Date().getFullYear(),\n    classCode: '',\n    searchTerm: '',\n    studentId: '',\n    eventType: ''\n  });\n\n  // Fetch students (mock fallback)\n  const fetchStudents = useCallback(async () => {\n    try {\n      const res = await axios.get('/api/students', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setStudents(res.data.data || []);\n      return res.data.data || [];\n    } catch {\n      // Mock fallback\n      const mock = Array(15).fill(0).map((_, i) => ({\n        _id: `student-${i + 1}`,\n        studentId: `SATHI-${filters.year}-A-${String(i + 1).padStart(3, '0')}`,\n        name: {\n          en: `Student ${i + 1}`,\n          si: `ශිෂ්‍යයා ${i + 1}`\n        },\n        classCode: ['ADH', 'MET', 'KHA', 'NEK'][i % 4]\n      }));\n      setStudents(mock);\n      return mock;\n    }\n  }, [filters.year]);\n\n  // Generate mock attendance data\n  const generateMockData = studentsList => {\n    if (!Array.isArray(studentsList)) return {\n      daily: [],\n      summary: {},\n      flower: []\n    };\n    const sundays = getSundaysInMonth(filters.month, filters.year);\n    const poyaDays = getPoyaDays(filters.month, filters.year);\n    const flowerDays = getFlowerDays(filters.month, filters.year);\n    const daily = sundays.map(sunday => {\n      const present = Math.floor(Math.random() * studentsList.length * 0.8) + Math.floor(studentsList.length * 0.2);\n      const absent = studentsList.length - present;\n      const late = Math.floor(Math.random() * (present / 4));\n      const isPoya = poyaDays.some(d => d.toDateString() === sunday.toDateString());\n      const isFlower = flowerDays.some(d => d.toDateString() === sunday.toDateString());\n      return {\n        date: sunday.toISOString().split('T')[0],\n        present,\n        absent,\n        late,\n        attendanceRate: studentsList.length ? (present / studentsList.length * 100).toFixed(1) : 0,\n        eventType: isPoya ? 'poya' : isFlower ? 'flower' : 'sunday'\n      };\n    });\n\n    // Flower Pūjā participation mock\n    const flower = flowerDays.map(day => ({\n      date: day.toISOString().split('T')[0],\n      participation: studentsList.map(stu => ({\n        studentId: stu.studentId,\n        name: stu.name[lang],\n        flowerType: ['Lotus', 'Jasmine', 'Rose'][Math.floor(Math.random() * 3)],\n        brought: Math.random() > 0.3\n      }))\n    }));\n\n    // Summary\n    const avg = daily.length ? (daily.reduce((sum, d) => sum + Number(d.attendanceRate), 0) / daily.length).toFixed(1) : 0;\n    const highest = daily.reduce((a, b) => a.present > b.present ? a : b, {\n      present: 0\n    });\n    const lowest = daily.reduce((a, b) => a.present < b.present ? a : b, {\n      present: studentsList.length\n    });\n    return {\n      daily,\n      summary: {\n        totalStudents: studentsList.length,\n        averageAttendance: avg,\n        highestAttendanceDay: highest.date ? `${new Date(highest.date).toLocaleDateString()} (${highest.present} ${L.students})` : L.noData,\n        lowestAttendanceDay: lowest.date ? `${new Date(lowest.date).toLocaleDateString()} (${lowest.present} ${L.students})` : L.noData\n      },\n      flower\n    };\n  };\n\n  // Fetch attendance (mock fallback)\n  const fetchAttendance = useCallback(async studentsList => {\n    const mock = generateMockData(studentsList);\n    setAttendanceData(mock.daily);\n    setSummary(mock.summary);\n    setFlowerData(mock.flower);\n  }, [filters.month, filters.year, lang]);\n\n  // Main effect\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    (async () => {\n      try {\n        const studentsList = await fetchStudents();\n        await fetchAttendance(studentsList);\n      } catch (e) {\n        setError(L.noData);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [fetchStudents, fetchAttendance, filters, lang]);\n\n  // Filtered students for dropdown\n  const filteredStudents = students.filter(student => !filters.searchTerm || student.name[lang] && student.name[lang].toLowerCase().includes(filters.searchTerm.toLowerCase()) || student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase()));\n\n  // Export CSV\n  const handleExportCSV = () => {\n    if (!attendanceData.length) return;\n    const headers = [L.date, L.present, L.absent, L.late, L.attendanceRate];\n    const rows = attendanceData.map(day => [new Date(day.date).toLocaleDateString(), day.present, day.absent, day.late, `${day.attendanceRate}%`]);\n    const csv = [headers, ...rows].map(r => r.join(\",\")).join(\"\\n\");\n    const blob = new Blob([csv], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `attendance-${filters.year}-${String(filters.month).padStart(2, '0')}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  };\n\n  // Class-wise summary\n  const classSummary = ['ADH', 'MET', 'KHA', 'NEK'].map(code => {\n    const classStudents = students.filter(s => s.classCode === code);\n    const total = classStudents.length;\n    const present = attendanceData.reduce((sum, d) => sum + Math.floor(d.present / students.length * total), 0);\n    const percent = attendanceData.length ? (present / (attendanceData.length * total || 1) * 100).toFixed(1) : 0;\n    return {\n      code,\n      label: L[code.toLowerCase()],\n      total,\n      percent\n    };\n  });\n\n  // Pie chart data for present/absent/late\n  const pieData = [{\n    name: L.present,\n    value: attendanceData.reduce((sum, d) => sum + d.present, 0)\n  }, {\n    name: L.absent,\n    value: attendanceData.reduce((sum, d) => sum + d.absent, 0)\n  }, {\n    name: L.late,\n    value: attendanceData.reduce((sum, d) => sum + d.late, 0)\n  }];\n\n  // Language switcher\n  const handleLangSwitch = () => {\n    const next = lang === 'en' ? 'si' : 'en';\n    setLang(next);\n    localStorage.setItem('lang', next);\n  };\n\n  // Individual student analysis\n  const studentAttendance = selectedStudent ? attendanceData.map(d => ({\n    ...d,\n    present: Math.random() > 0.2 ? 1 : 0,\n    absent: Math.random() > 0.8 ? 1 : 0,\n    late: Math.random() > 0.7 ? 1 : 0\n  })) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4 md:mb-0\",\n          children: L.analysis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLangSwitch,\n            className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\",\n            children: lang === 'en' ? 'සිංහල' : 'English'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportCSV,\n            className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",\n            disabled: !attendanceData.length,\n            children: L.exportCSV\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.month\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"month\",\n            value: filters.month,\n            onChange: e => setFilters(f => ({\n              ...f,\n              month: Number(e.target.value)\n            })),\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: (lang === 'en' ? MONTHS : MONTHS_SI).map((month, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: idx + 1,\n              children: month\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.year\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"year\",\n            value: filters.year,\n            onChange: e => setFilters(f => ({\n              ...f,\n              year: Number(e.target.value)\n            })),\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: new Date().getFullYear() - i,\n              children: new Date().getFullYear() - i\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.class\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"classCode\",\n            value: filters.classCode,\n            onChange: e => setFilters(f => ({\n              ...f,\n              classCode: e.target.value\n            })),\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: L.all\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ADH\",\n              children: L.adh\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"MET\",\n              children: L.met\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"KHA\",\n              children: L.kha\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"NEK\",\n              children: L.nek\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.search\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: filters.searchTerm,\n            onChange: e => setFilters(f => ({\n              ...f,\n              searchTerm: e.target.value\n            })),\n            placeholder: L.search,\n            className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), filteredStudents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n          children: L.selectStudent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedStudent,\n          onChange: e => setSelectedStudent(e.target.value),\n          className: \"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: L.all\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), filteredStudents.map(student => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: student._id,\n            children: [student.studentId, \" - \", student.name[lang]]\n          }, student._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 mb-4 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: classSummary.map((cls, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: cls.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-blue-800 dark:text-blue-200\",\n            children: [cls.total, \" \", L.students]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-green-700 dark:text-green-300\",\n            children: [L.attendanceRate, \": \", cls.percent, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)]\n        }, cls.code, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: L.trend\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            height: 250\n          },\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            children: /*#__PURE__*/_jsxDEV(LineChart, {\n              data: attendanceData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"date\",\n                tickFormatter: d => new Date(d).getDate()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                domain: [0, 100],\n                tickFormatter: v => `${v}%`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                formatter: v => `${v}%`,\n                labelFormatter: d => new Date(d).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                type: \"monotone\",\n                dataKey: \"attendanceRate\",\n                stroke: \"#10b981\",\n                strokeWidth: 2,\n                dot: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n            children: L.dailyBreakdown\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: 250\n            },\n            children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: attendanceData,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  tickFormatter: d => new Date(d).getDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"present\",\n                  fill: \"#10b981\",\n                  name: L.present\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"absent\",\n                  fill: \"#ef4444\",\n                  name: L.absent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"late\",\n                  fill: \"#f59e42\",\n                  name: L.late\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n            children: L.attendanceRate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: 250\n            },\n            children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                children: [/*#__PURE__*/_jsxDEV(Pie, {\n                  data: pieData,\n                  dataKey: \"value\",\n                  nameKey: \"name\",\n                  cx: \"50%\",\n                  cy: \"50%\",\n                  outerRadius: 80,\n                  label: true,\n                  children: pieData.map((entry, idx) => /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: COLORS[idx % COLORS.length]\n                  }, `cell-${idx}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: [L.sundays, \" / \", L.poya, \" / \", L.flower, \" - \", (lang === 'en' ? MONTHS : MONTHS_SI)[filters.month - 1], \" \", filters.year]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: getSundaysInMonth(filters.month, filters.year).map(sunday => {\n            const dateStr = sunday.toISOString().split('T')[0];\n            const day = attendanceData.find(d => d.date === dateStr);\n            const attendanceRate = day ? day.attendanceRate : '0';\n            const isPoya = day && day.eventType === 'poya';\n            const isFlower = day && day.eventType === 'flower';\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `rounded-lg shadow p-4 w-36 ${isPoya ? 'bg-yellow-100 dark:bg-yellow-900' : isFlower ? 'bg-pink-100 dark:bg-pink-900' : 'bg-white dark:bg-gray-700'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium\",\n                  children: sunday.getDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: isPoya ? L.poya : isFlower ? L.flower : L.sunday\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full bg-gray-200 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-green-600 h-2 rounded-full\",\n                      style: {\n                        width: `${attendanceRate}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 541,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 539,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 text-sm font-medium\",\n                  children: [attendanceRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)\n            }, dateStr, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: L.flowerParticipation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), flowerData.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\",\n          children: L.noData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this) : flowerData.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold mb-2\",\n            children: [new Date(day.date).toLocaleDateString(), \" (\", L.flower, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full bg-white dark:bg-gray-800 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1 text-left text-xs font-medium\",\n                    children: L.selectStudent\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1 text-left text-xs font-medium\",\n                    children: L.flowerType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1 text-left text-xs font-medium\",\n                    children: L.brought\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: day.participation.map((stu, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-2 py-1 text-xs\",\n                    children: [stu.name, \" (\", stu.studentId, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-2 py-1 text-xs\",\n                    children: stu.flowerType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-2 py-1 text-xs\",\n                    children: stu.brought ? L.brought : L.notBrought\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 27\n                  }, this)]\n                }, stu.studentId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 17\n          }, this)]\n        }, day.date, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), selectedStudent && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: L.individual\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto rounded-lg shadow\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full bg-white dark:bg-gray-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium\",\n                  children: L.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium\",\n                  children: L.present\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium\",\n                  children: L.absent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium\",\n                  children: L.late\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 604,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: studentAttendance.map(day => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: new Date(day.date).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: day.present\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: day.absent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: day.late\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 23\n                }, this)]\n              }, day.date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceAnalysis, \"+0v/7qQDEGN5kEzJedu6cmsSZWY=\");\n_c = AttendanceAnalysis;\nexport default AttendanceAnalysis;\nvar _c;\n$RefreshReg$(_c, \"AttendanceAnalysis\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","LineChart","Line","XAxis","YAxis","Tooltip","ResponsiveContainer","CartesianGrid","BarChart","Bar","PieChart","Pie","Cell","Legend","jsxDEV","_jsxDEV","LABELS","en","analysis","exportCSV","month","year","class","search","selectStudent","all","totalStudents","avgAttendance","highestAttendance","lowestAttendance","trend","sundays","poya","flower","dailyBreakdown","date","present","absent","late","attendanceRate","sunday","noData","flowerParticipation","flowerType","brought","notBrought","students","adh","met","kha","nek","individual","eventType","poyaDay","special","si","MONTHS","MONTHS_SI","getPoyaDays","getSundaysInMonth","length","getFlowerDays","Date","getDay","setDate","getDate","getMonth","push","COLORS","AttendanceAnalysis","_s","lang","setLang","localStorage","getItem","L","loading","setLoading","error","setError","attendanceData","setAttendanceData","setStudents","summary","setSummary","averageAttendance","highestAttendanceDay","lowestAttendanceDay","flowerData","setFlowerData","selectedStudent","setSelectedStudent","filters","setFilters","getFullYear","classCode","searchTerm","studentId","fetchStudents","res","get","headers","Authorization","data","mock","Array","fill","map","_","i","_id","String","padStart","name","generateMockData","studentsList","isArray","daily","poyaDays","flowerDays","Math","floor","random","isPoya","some","d","toDateString","isFlower","toISOString","split","toFixed","day","participation","stu","avg","reduce","sum","Number","highest","a","b","lowest","toLocaleDateString","fetchAttendance","e","filteredStudents","filter","student","toLowerCase","includes","handleExportCSV","rows","csv","r","join","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","classSummary","code","classStudents","s","total","percent","label","pieData","value","handleLangSwitch","next","setItem","studentAttendance","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","onChange","f","target","idx","placeholder","cls","style","width","height","strokeDasharray","dataKey","tickFormatter","domain","v","formatter","labelFormatter","stroke","strokeWidth","dot","nameKey","cx","cy","outerRadius","entry","dateStr","find","_c","$RefreshReg$"],"sources":["D:/Sathipasala/sathipasala-management-system/frontend/src/pages/admin/AttendanceAnalysis.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, BarChart, Bar, PieChart, Pie, Cell, Legend } from 'recharts';\r\n\r\n// Sinhala/English labels (no translation keys)\r\nconst LABELS = {\r\n  en: {\r\n    analysis: 'Attendance Analysis',\r\n    exportCSV: 'Export CSV',\r\n    month: 'Month',\r\n    year: 'Year',\r\n    class: 'Class',\r\n    search: 'Search',\r\n    selectStudent: 'Select Student',\r\n    all: 'All',\r\n    totalStudents: 'Total Students',\r\n    avgAttendance: 'Average Attendance',\r\n    highestAttendance: 'Highest Attendance',\r\n    lowestAttendance: 'Lowest Attendance',\r\n    trend: 'Attendance Trend',\r\n    sundays: 'Sundays',\r\n    poya: 'Poya Days',\r\n    flower: 'Flower Pūjā',\r\n    dailyBreakdown: 'Daily Breakdown',\r\n    date: 'Date',\r\n    present: 'Present',\r\n    absent: 'Absent',\r\n    late: 'Late',\r\n    attendanceRate: 'Attendance Rate',\r\n    sunday: 'Sunday',\r\n    noData: 'No data found',\r\n    flowerParticipation: 'Flower Pūjā Participation',\r\n    flowerType: 'Flower Type',\r\n    brought: 'Brought',\r\n    notBrought: 'Not Brought',\r\n    students: 'students',\r\n    adh: 'Adhiṭṭhāna',\r\n    met: 'Mettā',\r\n    kha: 'Khanti',\r\n    nek: 'Nekkhamma',\r\n    individual: 'Individual Student Analysis',\r\n    eventType: 'Event Type',\r\n    poyaDay: 'Poya Day',\r\n    special: 'Special Event'\r\n  },\r\n  si: {\r\n    analysis: 'ඉදිරිපත් කිරීම',\r\n    exportCSV: 'CSV ලෙස සුරකින්න',\r\n    month: 'මාසය',\r\n    year: 'අවුරුද්ද',\r\n    class: 'පංතිය',\r\n    search: 'සෙවීම',\r\n    selectStudent: 'ශිෂ්‍යයා තෝරන්න',\r\n    all: 'සියල්ල',\r\n    totalStudents: 'මුළු ශිෂ්‍යයන්',\r\n    avgAttendance: 'සාමාන්‍ය පැමිණීම',\r\n    highestAttendance: 'ඉහළම පැමිණීම',\r\n    lowestAttendance: 'අඩුම පැමිණීම',\r\n    trend: 'පැමිණීමේ ප්‍රවණතාව',\r\n    sundays: 'ඉරිදා',\r\n    poya: 'පෝය දිනයන්',\r\n    flower: 'මල් පූජා',\r\n    dailyBreakdown: 'දිනපතා විස්තරය',\r\n    date: 'දිනය',\r\n    present: 'පැමිණි',\r\n    absent: 'නොපැමිණි',\r\n    late: 'ප්‍රමාදව පැමිණි',\r\n    attendanceRate: 'පැමිණීමේ ප්‍රතිශතය',\r\n    sunday: 'ඉරිදා',\r\n    noData: 'දත්ත නොමැත',\r\n    flowerParticipation: 'මල් පූජා සහභාගිත්වය',\r\n    flowerType: 'මල් වර්ගය',\r\n    brought: 'ගෙනා',\r\n    notBrought: 'නැත',\r\n    students: 'ශිෂ්‍යයන්',\r\n    adh: 'අධිඨාන',\r\n    met: 'මෙත්තා',\r\n    kha: 'ඛන්ති',\r\n    nek: 'නෙක්කම්ම',\r\n    individual: 'තනි ශිෂ්‍ය විශ්ලේෂණය',\r\n    eventType: 'සිදුවීමේ වර්ගය',\r\n    poyaDay: 'පෝය දිනය',\r\n    special: 'විශේෂ අවස්ථාව'\r\n  }\r\n};\r\n\r\nconst MONTHS = [\r\n  'January', 'February', 'March', 'April', 'May', 'June',\r\n  'July', 'August', 'September', 'October', 'November', 'December'\r\n];\r\nconst MONTHS_SI = [\r\n  'ජනවාරි', 'පෙබරවාරි', 'මාර්තු', 'අප්‍රේල්', 'මැයි', 'ජූනි',\r\n  'ජූලි', 'අගෝස්තු', 'සැප්තැම්බර්', 'ඔක්තෝබර්', 'නොවැම්බර්', 'දෙසැම්බර්'\r\n];\r\n\r\n// Mock Poya and Flower Pūjā days for demo\r\nconst getPoyaDays = (month, year) => {\r\n  // For demo, return 2nd and 4th Sunday as Poya\r\n  const sundays = getSundaysInMonth(month, year);\r\n  return sundays.length >= 2 ? [sundays[1], sundays[3] || sundays[2]] : [];\r\n};\r\nconst getFlowerDays = (month, year) => {\r\n  // For demo, return 1st Sunday as Flower Pūjā\r\n  const sundays = getSundaysInMonth(month, year);\r\n  return sundays.length ? [sundays[0]] : [];\r\n};\r\n\r\n// Helper: Get all Sundays in a month\r\nfunction getSundaysInMonth(month, year) {\r\n  const sundays = [];\r\n  const date = new Date(year, month - 1, 1);\r\n  while (date.getDay() !== 0) date.setDate(date.getDate() + 1);\r\n  while (date.getMonth() === month - 1) {\r\n    sundays.push(new Date(date));\r\n    date.setDate(date.getDate() + 7);\r\n  }\r\n  return sundays;\r\n}\r\n\r\nconst COLORS = ['#10b981', '#ef4444', '#f59e42', '#6366f1'];\r\n\r\nconst AttendanceAnalysis = () => {\r\n  // Language switch (replace with your actual language state)\r\n  const [lang, setLang] = useState(localStorage.getItem('lang') || 'en');\r\n  const L = LABELS[lang];\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [summary, setSummary] = useState({\r\n    totalStudents: 0,\r\n    averageAttendance: 0,\r\n    highestAttendanceDay: '',\r\n    lowestAttendanceDay: '',\r\n  });\r\n  const [flowerData, setFlowerData] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState('');\r\n  const [filters, setFilters] = useState({\r\n    month: new Date().getMonth() + 1,\r\n    year: new Date().getFullYear(),\r\n    classCode: '',\r\n    searchTerm: '',\r\n    studentId: '',\r\n    eventType: ''\r\n  });\r\n\r\n  // Fetch students (mock fallback)\r\n  const fetchStudents = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get('/api/students', {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\r\n      });\r\n      setStudents(res.data.data || []);\r\n      return res.data.data || [];\r\n    } catch {\r\n      // Mock fallback\r\n      const mock = Array(15).fill(0).map((_, i) => ({\r\n        _id: `student-${i+1}`,\r\n        studentId: `SATHI-${filters.year}-A-${String(i+1).padStart(3, '0')}`,\r\n        name: { en: `Student ${i+1}`, si: `ශිෂ්‍යයා ${i+1}` },\r\n        classCode: ['ADH', 'MET', 'KHA', 'NEK'][i % 4]\r\n      }));\r\n      setStudents(mock);\r\n      return mock;\r\n    }\r\n  }, [filters.year]);\r\n\r\n  // Generate mock attendance data\r\n  const generateMockData = (studentsList) => {\r\n    if (!Array.isArray(studentsList)) return { daily: [], summary: {}, flower: [] };\r\n    const sundays = getSundaysInMonth(filters.month, filters.year);\r\n    const poyaDays = getPoyaDays(filters.month, filters.year);\r\n    const flowerDays = getFlowerDays(filters.month, filters.year);\r\n\r\n    const daily = sundays.map(sunday => {\r\n      const present = Math.floor(Math.random() * studentsList.length * 0.8) + Math.floor(studentsList.length * 0.2);\r\n      const absent = studentsList.length - present;\r\n      const late = Math.floor(Math.random() * (present / 4));\r\n      const isPoya = poyaDays.some(d => d.toDateString() === sunday.toDateString());\r\n      const isFlower = flowerDays.some(d => d.toDateString() === sunday.toDateString());\r\n      return {\r\n        date: sunday.toISOString().split('T')[0],\r\n        present,\r\n        absent,\r\n        late,\r\n        attendanceRate: studentsList.length ? ((present / studentsList.length) * 100).toFixed(1) : 0,\r\n        eventType: isPoya ? 'poya' : isFlower ? 'flower' : 'sunday'\r\n      };\r\n    });\r\n\r\n    // Flower Pūjā participation mock\r\n    const flower = flowerDays.map(day => ({\r\n      date: day.toISOString().split('T')[0],\r\n      participation: studentsList.map(stu => ({\r\n        studentId: stu.studentId,\r\n        name: stu.name[lang],\r\n        flowerType: ['Lotus', 'Jasmine', 'Rose'][Math.floor(Math.random() * 3)],\r\n        brought: Math.random() > 0.3\r\n      }))\r\n    }));\r\n\r\n    // Summary\r\n    const avg = daily.length\r\n      ? (daily.reduce((sum, d) => sum + Number(d.attendanceRate), 0) / daily.length).toFixed(1)\r\n      : 0;\r\n    const highest = daily.reduce((a, b) => (a.present > b.present ? a : b), { present: 0 });\r\n    const lowest = daily.reduce((a, b) => (a.present < b.present ? a : b), { present: studentsList.length });\r\n    return {\r\n      daily,\r\n      summary: {\r\n        totalStudents: studentsList.length,\r\n        averageAttendance: avg,\r\n        highestAttendanceDay: highest.date\r\n          ? `${new Date(highest.date).toLocaleDateString()} (${highest.present} ${L.students})`\r\n          : L.noData,\r\n        lowestAttendanceDay: lowest.date\r\n          ? `${new Date(lowest.date).toLocaleDateString()} (${lowest.present} ${L.students})`\r\n          : L.noData\r\n      },\r\n      flower\r\n    };\r\n  };\r\n\r\n  // Fetch attendance (mock fallback)\r\n  const fetchAttendance = useCallback(async (studentsList) => {\r\n    const mock = generateMockData(studentsList);\r\n    setAttendanceData(mock.daily);\r\n    setSummary(mock.summary);\r\n    setFlowerData(mock.flower);\r\n  }, [filters.month, filters.year, lang]);\r\n\r\n  // Main effect\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(null);\r\n    (async () => {\r\n      try {\r\n        const studentsList = await fetchStudents();\r\n        await fetchAttendance(studentsList);\r\n      } catch (e) {\r\n        setError(L.noData);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [fetchStudents, fetchAttendance, filters, lang]);\r\n\r\n  // Filtered students for dropdown\r\n  const filteredStudents = students.filter(student =>\r\n    !filters.searchTerm ||\r\n    (student.name[lang] && student.name[lang].toLowerCase().includes(filters.searchTerm.toLowerCase())) ||\r\n    student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Export CSV\r\n  const handleExportCSV = () => {\r\n    if (!attendanceData.length) return;\r\n    const headers = [L.date, L.present, L.absent, L.late, L.attendanceRate];\r\n    const rows = attendanceData.map(day =>\r\n      [new Date(day.date).toLocaleDateString(), day.present, day.absent, day.late, `${day.attendanceRate}%`]\r\n    );\r\n    const csv = [headers, ...rows].map(r => r.join(\",\")).join(\"\\n\");\r\n    const blob = new Blob([csv], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `attendance-${filters.year}-${String(filters.month).padStart(2, '0')}.csv`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n  };\r\n\r\n  // Class-wise summary\r\n  const classSummary = ['ADH', 'MET', 'KHA', 'NEK'].map(code => {\r\n    const classStudents = students.filter(s => s.classCode === code);\r\n    const total = classStudents.length;\r\n    const present = attendanceData.reduce((sum, d) => sum + Math.floor((d.present / students.length) * total), 0);\r\n    const percent = attendanceData.length ? ((present / (attendanceData.length * total || 1)) * 100).toFixed(1) : 0;\r\n    return {\r\n      code,\r\n      label: L[code.toLowerCase()],\r\n      total,\r\n      percent\r\n    };\r\n  });\r\n\r\n  // Pie chart data for present/absent/late\r\n  const pieData = [\r\n    { name: L.present, value: attendanceData.reduce((sum, d) => sum + d.present, 0) },\r\n    { name: L.absent, value: attendanceData.reduce((sum, d) => sum + d.absent, 0) },\r\n    { name: L.late, value: attendanceData.reduce((sum, d) => sum + d.late, 0) }\r\n  ];\r\n\r\n  // Language switcher\r\n  const handleLangSwitch = () => {\r\n    const next = lang === 'en' ? 'si' : 'en';\r\n    setLang(next);\r\n    localStorage.setItem('lang', next);\r\n  };\r\n\r\n  // Individual student analysis\r\n  const studentAttendance = selectedStudent\r\n    ? attendanceData.map(d => ({\r\n        ...d,\r\n        present: Math.random() > 0.2 ? 1 : 0,\r\n        absent: Math.random() > 0.8 ? 1 : 0,\r\n        late: Math.random() > 0.7 ? 1 : 0\r\n      }))\r\n    : [];\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4 md:mb-0\">\r\n            {L.analysis}\r\n          </h2>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={handleLangSwitch}\r\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\r\n            >\r\n              {lang === 'en' ? 'සිංහල' : 'English'}\r\n            </button>\r\n            <button\r\n              onClick={handleExportCSV}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\r\n              disabled={!attendanceData.length}\r\n            >\r\n              {L.exportCSV}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.month}\r\n            </label>\r\n            <select\r\n              name=\"month\"\r\n              value={filters.month}\r\n              onChange={e => setFilters(f => ({ ...f, month: Number(e.target.value) }))}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              {(lang === 'en' ? MONTHS : MONTHS_SI).map((month, idx) => (\r\n                <option key={idx} value={idx + 1}>\r\n                  {month}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.year}\r\n            </label>\r\n            <select\r\n              name=\"year\"\r\n              value={filters.year}\r\n              onChange={e => setFilters(f => ({ ...f, year: Number(e.target.value) }))}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              {[...Array(5)].map((_, i) => (\r\n                <option key={i} value={new Date().getFullYear() - i}>\r\n                  {new Date().getFullYear() - i}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.class}\r\n            </label>\r\n            <select\r\n              name=\"classCode\"\r\n              value={filters.classCode}\r\n              onChange={e => setFilters(f => ({ ...f, classCode: e.target.value }))}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              <option value=\"\">{L.all}</option>\r\n              <option value=\"ADH\">{L.adh}</option>\r\n              <option value=\"MET\">{L.met}</option>\r\n              <option value=\"KHA\">{L.kha}</option>\r\n              <option value=\"NEK\">{L.nek}</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.search}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={filters.searchTerm}\r\n              onChange={e => setFilters(f => ({ ...f, searchTerm: e.target.value }))}\r\n              placeholder={L.search}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Student Filter */}\r\n        {filteredStudents.length > 0 && (\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.selectStudent}\r\n            </label>\r\n            <select\r\n              value={selectedStudent}\r\n              onChange={e => setSelectedStudent(e.target.value)}\r\n              className=\"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-300 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\r\n            >\r\n              <option value=\"\">{L.all}</option>\r\n              {filteredStudents.map(student => (\r\n                <option key={student._id} value={student._id}>\r\n                  {student.studentId} - {student.name[lang]}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error/Loading */}\r\n        {error && (\r\n          <div className=\"p-3 mb-4 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        {loading && (\r\n          <div className=\"flex justify-center items-center p-8\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Class-wise Summary */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          {classSummary.map((cls, idx) => (\r\n            <div key={cls.code} className=\"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg\">\r\n              <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                {cls.label}\r\n              </h3>\r\n              <p className=\"text-lg font-semibold text-blue-800 dark:text-blue-200\">\r\n                {cls.total} {L.students}\r\n              </p>\r\n              <p className=\"text-sm text-green-700 dark:text-green-300\">\r\n                {L.attendanceRate}: {cls.percent}%\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Attendance Trend Chart */}\r\n        <div className=\"mb-8\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n            {L.trend}\r\n          </h3>\r\n          <div style={{ width: '100%', height: 250 }}>\r\n            <ResponsiveContainer>\r\n              <LineChart data={attendanceData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" tickFormatter={d => new Date(d).getDate()} />\r\n                <YAxis domain={[0, 100]} tickFormatter={v => `${v}%`} />\r\n                <Tooltip formatter={v => `${v}%`} labelFormatter={d => new Date(d).toLocaleDateString()} />\r\n                <Line type=\"monotone\" dataKey=\"attendanceRate\" stroke=\"#10b981\" strokeWidth={2} dot />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pie Chart */}\r\n        <div className=\"mb-8 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n              {L.dailyBreakdown}\r\n            </h3>\r\n            <div style={{ width: '100%', height: 250 }}>\r\n              <ResponsiveContainer>\r\n                <BarChart data={attendanceData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"date\" tickFormatter={d => new Date(d).getDate()} />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Legend />\r\n                  <Bar dataKey=\"present\" fill=\"#10b981\" name={L.present} />\r\n                  <Bar dataKey=\"absent\" fill=\"#ef4444\" name={L.absent} />\r\n                  <Bar dataKey=\"late\" fill=\"#f59e42\" name={L.late} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n              {L.attendanceRate}\r\n            </h3>\r\n            <div style={{ width: '100%', height: 250 }}>\r\n              <ResponsiveContainer>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={pieData}\r\n                    dataKey=\"value\"\r\n                    nameKey=\"name\"\r\n                    cx=\"50%\"\r\n                    cy=\"50%\"\r\n                    outerRadius={80}\r\n                    label\r\n                  >\r\n                    {pieData.map((entry, idx) => (\r\n                      <Cell key={`cell-${idx}`} fill={COLORS[idx % COLORS.length]} />\r\n                    ))}\r\n                  </Pie>\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sundays Calendar */}\r\n        <div className=\"mb-8\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n            {L.sundays} / {L.poya} / {L.flower} - {(lang === 'en' ? MONTHS : MONTHS_SI)[filters.month-1]} {filters.year}\r\n          </h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {getSundaysInMonth(filters.month, filters.year).map((sunday) => {\r\n              const dateStr = sunday.toISOString().split('T')[0];\r\n              const day = attendanceData.find(d => d.date === dateStr);\r\n              const attendanceRate = day ? day.attendanceRate : '0';\r\n              const isPoya = day && day.eventType === 'poya';\r\n              const isFlower = day && day.eventType === 'flower';\r\n              return (\r\n                <div key={dateStr} className={`rounded-lg shadow p-4 w-36 ${isPoya ? 'bg-yellow-100 dark:bg-yellow-900' : isFlower ? 'bg-pink-100 dark:bg-pink-900' : 'bg-white dark:bg-gray-700'}`}>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-sm font-medium\">{sunday.getDate()}</div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {isPoya ? L.poya : isFlower ? L.flower : L.sunday}\r\n                    </div>\r\n                    <div className=\"mt-2\">\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className=\"bg-green-600 h-2 rounded-full\"\r\n                          style={{ width: `${attendanceRate}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-1 text-sm font-medium\">\r\n                      {attendanceRate}%\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Flower Pūjā Participation */}\r\n        <div className=\"mb-8\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n            {L.flowerParticipation}\r\n          </h3>\r\n          {flowerData.length === 0 ? (\r\n            <div className=\"text-center p-6 text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 rounded\">\r\n              {L.noData}\r\n            </div>\r\n          ) : (\r\n            flowerData.map(day => (\r\n              <div key={day.date} className=\"mb-4\">\r\n                <div className=\"font-semibold mb-2\">{new Date(day.date).toLocaleDateString()} ({L.flower})</div>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full bg-white dark:bg-gray-800 rounded\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"px-2 py-1 text-left text-xs font-medium\">{L.selectStudent}</th>\r\n                        <th className=\"px-2 py-1 text-left text-xs font-medium\">{L.flowerType}</th>\r\n                        <th className=\"px-2 py-1 text-left text-xs font-medium\">{L.brought}</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {day.participation.map((stu, idx) => (\r\n                        <tr key={stu.studentId}>\r\n                          <td className=\"px-2 py-1 text-xs\">{stu.name} ({stu.studentId})</td>\r\n                          <td className=\"px-2 py-1 text-xs\">{stu.flowerType}</td>\r\n                          <td className=\"px-2 py-1 text-xs\">{stu.brought ? L.brought : L.notBrought}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Individual Student Analysis */}\r\n        {selectedStudent && (\r\n          <div className=\"mb-8\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n              {L.individual}\r\n            </h3>\r\n            <div className=\"overflow-x-auto rounded-lg shadow\">\r\n              <table className=\"min-w-full bg-white dark:bg-gray-800\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium\">{L.date}</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium\">{L.present}</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium\">{L.absent}</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium\">{L.late}</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {studentAttendance.map(day => (\r\n                    <tr key={day.date}>\r\n                      <td className=\"px-4 py-2 text-sm\">{new Date(day.date).toLocaleDateString()}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{day.present}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{day.absent}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{day.late}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}