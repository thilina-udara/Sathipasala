{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sathipasala\\\\sathipasala-management-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\AttendanceReport.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport axios from 'axios';\nimport { FaFileCsv, FaFilePdf, FaCalendarAlt, FaUserAlt, FaFilter, FaSeedling } from 'react-icons/fa';\nimport { jsPDF } from 'jspdf';\nimport 'jspdf-autotable';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AttendanceReport = () => {\n  _s();\n  const {\n    i18n\n  } = useTranslation();\n  const currentLang = i18n.language || 'en';\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [reportData, setReportData] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [filters, setFilters] = useState({\n    startDate: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0],\n    endDate: new Date().toISOString().split('T')[0],\n    classYear: '',\n    classCode: '',\n    studentId: '',\n    searchTerm: '',\n    reportType: 'summary'\n  });\n\n  // Simple labels based on language\n  const L = {\n    report: currentLang === 'si' ? \"පැමිණීමේ වාර්තාව\" : \"Attendance Report\",\n    exportCSV: currentLang === 'si' ? \"CSV අපනයනය කරන්න\" : \"Export CSV\",\n    exportPDF: currentLang === 'si' ? \"PDF අපනයනය කරන්න\" : \"Export PDF\",\n    summaryReport: currentLang === 'si' ? \"සාරාංශ වාර්තාව\" : \"Summary Report\",\n    studentReport: currentLang === 'si' ? \"සිසු වාර්තාව\" : \"Student Report\",\n    classReport: currentLang === 'si' ? \"පන්ති වාර්තාව\" : \"Class Report\",\n    startDate: currentLang === 'si' ? \"ආරම්භක දිනය\" : \"Start Date\",\n    endDate: currentLang === 'si' ? \"අවසාන දිනය\" : \"End Date\",\n    classYear: currentLang === 'si' ? \"පන්ති වසර\" : \"Class Year\",\n    class: currentLang === 'si' ? \"පන්තිය\" : \"Class\",\n    allClasses: currentLang === 'si' ? \"සියළුම පන්ති\" : \"All Classes\",\n    search: currentLang === 'si' ? \"සොයන්න\" : \"Search\",\n    searchPlaceholder: currentLang === 'si' ? \"නමින් හෝ ID මගින් සොයන්න\" : \"Search by name or ID\",\n    selectStudent: currentLang === 'si' ? \"සිසුවා තෝරන්න\" : \"Select Student\",\n    select: currentLang === 'si' ? \"තෝරන්න\" : \"Select\",\n    summary: currentLang === 'si' ? \"සාරාංශය\" : \"Summary\",\n    totalDays: currentLang === 'si' ? \"මුළු දින ගණන\" : \"Total Days\",\n    avgPresent: currentLang === 'si' ? \"සාමාන්‍ය පැමිණීම\" : \"Average Present\",\n    avgAbsent: currentLang === 'si' ? \"සාමාන්‍ය නොපැමිණීම\" : \"Average Absent\",\n    avgLate: currentLang === 'si' ? \"සාමාන්‍ය ප්‍රමාද\" : \"Average Late\",\n    avgFlowers: currentLang === 'si' ? \"සාමාන්‍ය මල් පූජා\" : \"Average Flowers\",\n    date: currentLang === 'si' ? \"දිනය\" : \"Date\",\n    totalStudents: currentLang === 'si' ? \"මුළු සිසුන්\" : \"Total Students\",\n    present: currentLang === 'si' ? \"පැමිණ සිටි\" : \"Present\",\n    absent: currentLang === 'si' ? \"පැමිණ නොසිටි\" : \"Absent\",\n    late: currentLang === 'si' ? \"ප්‍රමාද වූ\" : \"Late\",\n    flowerOfferings: currentLang === 'si' ? \"මල් පූජා\" : \"Flower Offerings\",\n    attendanceRate: currentLang === 'si' ? \"පැමිණීමේ අනුපාතය\" : \"Attendance Rate\",\n    status: currentLang === 'si' ? \"තත්ත්වය\" : \"Status\",\n    reason: currentLang === 'si' ? \"හේතුව\" : \"Reason\",\n    flowerOffering: currentLang === 'si' ? \"මල් පූජාව\" : \"Flower Offering\",\n    noData: currentLang === 'si' ? \"දත්ත නොමැත\" : \"No data available\"\n  };\n\n  // Class labels\n  const CLASS_LABELS = {\n    ADH: {\n      en: \"Adhiṭṭhāna\",\n      si: \"අධිඨාන\"\n    },\n    MET: {\n      en: \"Mettā\",\n      si: \"මෙත්තා\"\n    },\n    KHA: {\n      en: \"Khanti\",\n      si: \"ඛන්ති\"\n    },\n    NEK: {\n      en: \"Nekkhamma\",\n      si: \"නෙක්කම්ම\"\n    }\n  };\n\n  // Fetch students based on filters\n  useEffect(() => {\n    const fetchStudents = async () => {\n      try {\n        const queryParams = new URLSearchParams();\n        if (filters.classYear) queryParams.append('classYear', filters.classYear);\n        if (filters.classCode) queryParams.append('classCode', filters.classCode);\n        const response = await axios.get(`/api/students?${queryParams.toString()}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        setStudents(response.data.data || []);\n      } catch (error) {\n        console.error('Error fetching students:', error);\n        setError(currentLang === 'si' ? \"සිසුන් ලබා ගැනීමේ දෝෂයකි\" : \"Failed to fetch students\");\n      }\n    };\n    fetchStudents();\n  }, [filters.classYear, filters.classCode, currentLang]);\n\n  // Fetch report data\n  useEffect(() => {\n    const fetchReportData = async () => {\n      try {\n        setLoading(true);\n        const queryParams = new URLSearchParams();\n        queryParams.append('startDate', filters.startDate);\n        queryParams.append('endDate', filters.endDate);\n        if (filters.classYear) queryParams.append('classYear', filters.classYear);\n        if (filters.classCode) queryParams.append('classCode', filters.classCode);\n        if (filters.studentId) queryParams.append('studentId', filters.studentId);\n        let endpoint = '/api/attendance/report';\n        if (filters.reportType === 'student' && filters.studentId) {\n          endpoint = `/api/attendance/student/${filters.studentId}`;\n        }\n        console.log(`Fetching report data from: ${endpoint}?${queryParams.toString()}`);\n        const response = await axios.get(`${endpoint}?${queryParams.toString()}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        console.log('Report data response:', response.data);\n        setReportData(response.data.data || []);\n      } catch (error) {\n        console.error('Error fetching report data:', error);\n        setError(currentLang === 'si' ? \"වාර්තා දත්ත ලබා ගැනීමට අසමත් විය\" : \"Failed to fetch report data\");\n\n        // Generate mock data for development\n        if (process.env.NODE_ENV !== 'production') {\n          console.log('Generating mock data for development');\n          const mockData = generateMockData();\n          setReportData(mockData);\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReportData();\n  }, [filters, currentLang]);\n\n  // Generate mock data for development\n  const generateMockData = () => {\n    if (filters.reportType === 'student') {\n      // Generate student-specific mock data\n      return Array.from({\n        length: 10\n      }, (_, i) => {\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        return {\n          date: date.toISOString().split('T')[0],\n          status: ['present', 'absent', 'late'][Math.floor(Math.random() * 3)],\n          reason: Math.random() > 0.7 ? 'Sick leave' : '',\n          flowerOffering: {\n            brought: Math.random() > 0.6\n          }\n        };\n      });\n    } else {\n      // Generate summary mock data\n      return Array.from({\n        length: 5\n      }, (_, i) => {\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        const total = 50;\n        const present = Math.floor(Math.random() * 20) + 25;\n        const late = Math.floor(Math.random() * 5);\n        const absent = total - present - late;\n        return {\n          date: date.toISOString().split('T')[0],\n          total,\n          present,\n          absent,\n          late,\n          flowerOfferings: Math.floor(Math.random() * 15),\n          attendanceRate: ((present + late) / total * 100).toFixed(1)\n        };\n      });\n    }\n  };\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleStudentSelect = e => {\n    const selectedId = e.target.value;\n    setFilters(prev => ({\n      ...prev,\n      studentId: selectedId,\n      reportType: selectedId ? 'student' : 'summary'\n    }));\n  };\n  const handleSearch = e => {\n    setFilters(prev => ({\n      ...prev,\n      searchTerm: e.target.value\n    }));\n  };\n\n  // Filter students by search term\n  const filteredStudents = useMemo(() => {\n    return students.filter(student => {\n      var _student$name$si;\n      return !filters.searchTerm || student.name.en.toLowerCase().includes(filters.searchTerm.toLowerCase()) || ((_student$name$si = student.name.si) === null || _student$name$si === void 0 ? void 0 : _student$name$si.toLowerCase().includes(filters.searchTerm.toLowerCase())) || student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase());\n    });\n  }, [students, filters.searchTerm]);\n\n  // Generate and download CSV\n  const handleExportCSV = () => {\n    if (!reportData.length) return;\n    let csvContent, filename;\n    if (filters.reportType === 'student') {\n      // Student-specific attendance report\n      const studentInfo = students.find(s => s._id === filters.studentId);\n      const headers = [L.date, L.status, L.reason, L.flowerOffering];\n      const rows = reportData.map(record => {\n        var _record$flowerOfferin;\n        return [new Date(record.date).toLocaleDateString(), record.status.charAt(0).toUpperCase() + record.status.slice(1), record.reason || '', (_record$flowerOfferin = record.flowerOffering) !== null && _record$flowerOfferin !== void 0 && _record$flowerOfferin.brought ? 'Yes' : 'No'];\n      });\n      csvContent = [headers.join(','), ...rows.map(row => row.join(','))].join('\\n');\n      filename = `${(studentInfo === null || studentInfo === void 0 ? void 0 : studentInfo.studentId) || 'student'}_attendance_${filters.startDate}_${filters.endDate}.csv`;\n    } else {\n      // Summary or class attendance report\n      const headers = [L.date, L.totalStudents, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings];\n      const rows = reportData.map(day => [new Date(day.date).toLocaleDateString(), day.total, day.present, day.absent, day.late, `${day.attendanceRate}%`, day.flowerOfferings || 0]);\n      csvContent = [headers.join(','), ...rows.map(row => row.join(','))].join('\\n');\n      filename = `attendance_report_${filters.startDate}_${filters.endDate}.csv`;\n    }\n\n    // Create and download CSV file\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.setAttribute('href', url);\n    link.setAttribute('download', filename);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Generate and download PDF\n  const handleExportPDF = () => {\n    if (!reportData.length) return;\n    const doc = new jsPDF();\n\n    // Add title\n    doc.setFontSize(18);\n    doc.text(L.report, doc.internal.pageSize.width / 2, 15, {\n      align: 'center'\n    });\n\n    // Add report parameters\n    doc.setFontSize(10);\n    doc.text(`${L.startDate}: ${new Date(filters.startDate).toLocaleDateString()} - ${L.endDate}: ${new Date(filters.endDate).toLocaleDateString()}`, 14, 25);\n    if (filters.classYear) {\n      doc.text(`${L.classYear}: ${filters.classYear}`, 14, 30);\n    }\n    if (filters.classCode) {\n      var _CLASS_LABELS$filters;\n      const className = ((_CLASS_LABELS$filters = CLASS_LABELS[filters.classCode]) === null || _CLASS_LABELS$filters === void 0 ? void 0 : _CLASS_LABELS$filters[currentLang]) || filters.classCode;\n      doc.text(`${L.class}: ${className}`, 14, 35);\n    }\n    if (filters.studentId && filters.reportType === 'student') {\n      const student = students.find(s => s._id === filters.studentId);\n      if (student) {\n        doc.text(`Student: ${student.name[currentLang] || student.name.en} (${student.studentId})`, 14, 40);\n      }\n    }\n\n    // Add report data as table\n    if (filters.reportType === 'student') {\n      doc.autoTable({\n        startY: 50,\n        head: [[L.date, L.status, L.reason, L.flowerOffering]],\n        body: reportData.map(record => {\n          var _record$flowerOfferin2;\n          return [new Date(record.date).toLocaleDateString(), record.status.charAt(0).toUpperCase() + record.status.slice(1), record.reason || '', (_record$flowerOfferin2 = record.flowerOffering) !== null && _record$flowerOfferin2 !== void 0 && _record$flowerOfferin2.brought ? 'Yes' : 'No'];\n        })\n      });\n\n      // Add summary statistics\n      if (reportData.summary) {\n        doc.setFontSize(12);\n        doc.text(L.summary, 14, doc.lastAutoTable.finalY + 15);\n        doc.autoTable({\n          startY: doc.lastAutoTable.finalY + 20,\n          head: [[L.totalDays, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings]],\n          body: [[reportData.summary.total, reportData.summary.present, reportData.summary.absent, reportData.summary.late, `${reportData.summary.attendanceRate}%`, reportData.summary.flowerOfferings || 0]]\n        });\n      }\n    } else {\n      doc.autoTable({\n        startY: 50,\n        head: [[L.date, L.totalStudents, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings]],\n        body: reportData.map(day => [new Date(day.date).toLocaleDateString(), day.total || 0, day.present || 0, day.absent || 0, day.late || 0, `${day.attendanceRate || 0}%`, day.flowerOfferings || 0])\n      });\n    }\n\n    // Save PDF\n    doc.save(`attendance_report_${filters.startDate}_${filters.endDate}.pdf`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row md:items-center md:justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0\",\n          children: L.report\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportCSV,\n            disabled: !reportData.length,\n            className: \"flex items-center px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50\",\n            children: [/*#__PURE__*/_jsxDEV(FaFileCsv, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), L.exportCSV]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleExportPDF,\n            disabled: !reportData.length,\n            className: \"flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors disabled:opacity-50\",\n            children: [/*#__PURE__*/_jsxDEV(FaFilePdf, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), L.exportPDF]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 dark:border-gray-700 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setFilters(prev => ({\n                ...prev,\n                reportType: 'summary',\n                studentId: ''\n              })),\n              className: `py-2 px-1 border-b-2 font-medium text-sm ${filters.reportType === 'summary' ? 'border-blue-500 text-blue-600 dark:text-blue-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'}`,\n              children: L.summaryReport\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setFilters(prev => ({\n                ...prev,\n                reportType: 'student'\n              })),\n              className: `py-2 px-1 border-b-2 font-medium text-sm ${filters.reportType === 'student' ? 'border-blue-500 text-blue-600 dark:text-blue-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'}`,\n              children: L.studentReport\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setFilters(prev => ({\n                ...prev,\n                reportType: 'class',\n                studentId: ''\n              })),\n              className: `py-2 px-1 border-b-2 font-medium text-sm ${filters.reportType === 'class' ? 'border-blue-500 text-blue-600 dark:text-blue-400' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'}`,\n              children: L.classReport\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.startDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"startDate\",\n              value: filters.startDate,\n              onChange: handleFilterChange,\n              className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                className: \"h-4 w-4 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.endDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"endDate\",\n              value: filters.endDate,\n              onChange: handleFilterChange,\n              className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                className: \"h-4 w-4 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.classYear\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"classYear\",\n              value: filters.classYear,\n              onChange: handleFilterChange,\n              placeholder: \"2023\",\n              className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(FaFilter, {\n                className: \"h-4 w-4 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n            children: L.class\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"classCode\",\n            value: filters.classCode,\n            onChange: handleFilterChange,\n            className: \"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: L.allClasses\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ADH\",\n              children: CLASS_LABELS.ADH[currentLang]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"MET\",\n              children: CLASS_LABELS.MET[currentLang]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"KHA\",\n              children: CLASS_LABELS.KHA[currentLang]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"NEK\",\n              children: CLASS_LABELS.NEK[currentLang]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), filters.reportType === 'student' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: L.search\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: filters.searchTerm,\n                onChange: handleSearch,\n                placeholder: L.searchPlaceholder,\n                className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n                children: /*#__PURE__*/_jsxDEV(FaUserAlt, {\n                  className: \"h-4 w-4 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\",\n              children: L.selectStudent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.studentId,\n              onChange: handleStudentSelect,\n              className: \"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: L.select\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this), filteredStudents.map(student => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: student._id,\n                children: [student.name[currentLang] || student.name.en, \" (\", student.studentId, \")\"]\n              }, student._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-center py-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [filters.reportType === 'summary' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white mb-4\",\n              children: L.summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white mb-2\",\n                  children: L.totalDays\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n                  children: reportData.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white mb-2\",\n                  children: L.avgPresent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n                  children: reportData.length > 0 ? `${(reportData.reduce((sum, day) => sum + day.present, 0) / reportData.length).toFixed(1)} (${(reportData.reduce((sum, day) => sum + day.present, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1) * 100).toFixed(1)}%)` : '0 (0%)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white mb-2\",\n                  children: L.avgAbsent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n                  children: reportData.length > 0 ? `${(reportData.reduce((sum, day) => sum + day.absent, 0) / reportData.length).toFixed(1)} (${(reportData.reduce((sum, day) => sum + day.absent, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1) * 100).toFixed(1)}%)` : '0 (0%)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white mb-2\",\n                  children: L.avgLate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n                  children: reportData.length > 0 ? `${(reportData.reduce((sum, day) => sum + day.late, 0) / reportData.length).toFixed(1)} (${(reportData.reduce((sum, day) => sum + day.late, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1) * 100).toFixed(1)}%)` : '0 (0%)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white mb-2\",\n                  children: L.avgFlowers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n                  children: reportData.length > 0 ? `${(reportData.reduce((sum, day) => sum + (day.flowerOfferings || 0), 0) / reportData.length).toFixed(1)} (${(reportData.reduce((sum, day) => sum + (day.flowerOfferings || 0), 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1) * 100).toFixed(1)}%)` : '0 (0%)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50 dark:bg-gray-800\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [filters.reportType === 'summary' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.totalStudents\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.present\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 621,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.absent\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.late\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 627,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.flowerOfferings\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 630,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.attendanceRate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true), filters.reportType === 'student' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 641,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.reason\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 647,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      scope: \"col\",\n                      className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                      children: L.flowerOffering\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\",\n                children: reportData.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: filters.reportType === 'summary' ? 7 : 4,\n                    className: \"px-6 py-4 text-center text-gray-500\",\n                    children: L.noData\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 23\n                }, this) : reportData.map((day, idx) => {\n                  var _day$flowerOffering;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [filters.reportType === 'summary' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: new Date(day.date).toLocaleDateString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 670,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 669,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.total\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 675,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 674,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.present\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 680,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 679,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.absent\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 685,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 684,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.late\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 690,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 689,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.flowerOfferings || 0\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 695,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 694,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: [day.attendanceRate, \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 700,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 699,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true), filters.reportType === 'student' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: new Date(day.date).toLocaleDateString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 710,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 709,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.status.charAt(0).toUpperCase() + day.status.slice(1)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 715,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 714,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: day.reason || '-'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 720,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 719,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"px-6 py-4 whitespace-nowrap\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-900 dark:text-white\",\n                          children: (_day$flowerOffering = day.flowerOffering) !== null && _day$flowerOffering !== void 0 && _day$flowerOffering.brought ? 'Yes' : 'No'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 725,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 724,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true)]\n                  }, `${day.date}-${idx}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceReport, \"j+GjabEjsxgctEwEykAHsqvaTZ8=\", false, function () {\n  return [useTranslation];\n});\n_c = AttendanceReport;\nexport default AttendanceReport;\nvar _c;\n$RefreshReg$(_c, \"AttendanceReport\");","map":{"version":3,"names":["useState","useEffect","useMemo","useTranslation","axios","FaFileCsv","FaFilePdf","FaCalendarAlt","FaUserAlt","FaFilter","FaSeedling","jsPDF","jsxDEV","_jsxDEV","Fragment","_Fragment","AttendanceReport","_s","i18n","currentLang","language","loading","setLoading","error","setError","reportData","setReportData","students","setStudents","filters","setFilters","startDate","Date","getFullYear","getMonth","toISOString","split","endDate","classYear","classCode","studentId","searchTerm","reportType","L","report","exportCSV","exportPDF","summaryReport","studentReport","classReport","class","allClasses","search","searchPlaceholder","selectStudent","select","summary","totalDays","avgPresent","avgAbsent","avgLate","avgFlowers","date","totalStudents","present","absent","late","flowerOfferings","attendanceRate","status","reason","flowerOffering","noData","CLASS_LABELS","ADH","en","si","MET","KHA","NEK","fetchStudents","queryParams","URLSearchParams","append","response","get","toString","headers","Authorization","localStorage","getItem","data","console","fetchReportData","endpoint","log","process","env","NODE_ENV","mockData","generateMockData","Array","from","length","_","i","setDate","getDate","Math","floor","random","brought","total","toFixed","handleFilterChange","e","name","value","target","prev","handleStudentSelect","selectedId","handleSearch","filteredStudents","filter","student","_student$name$si","toLowerCase","includes","handleExportCSV","csvContent","filename","studentInfo","find","s","_id","rows","map","record","_record$flowerOfferin","toLocaleDateString","charAt","toUpperCase","slice","join","row","day","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","setAttribute","body","appendChild","click","removeChild","handleExportPDF","doc","setFontSize","text","internal","pageSize","width","align","_CLASS_LABELS$filters","className","autoTable","startY","head","_record$flowerOfferin2","lastAutoTable","finalY","save","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","onChange","placeholder","reduce","sum","scope","colSpan","idx","_day$flowerOffering","_c","$RefreshReg$"],"sources":["D:/Sathipasala/sathipasala-management-system/frontend/src/pages/admin/AttendanceReport.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport axios from 'axios';\r\nimport { \r\n  FaFileCsv, \r\n  FaFilePdf, \r\n  FaCalendarAlt, \r\n  FaUserAlt, \r\n  FaFilter,\r\n  FaSeedling\r\n} from 'react-icons/fa';\r\nimport { jsPDF } from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nconst AttendanceReport = () => {\r\n  const { i18n } = useTranslation();\r\n  const currentLang = i18n.language || 'en';\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [reportData, setReportData] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    startDate: new Date(new Date().getFullYear(), new Date().getMonth(), 1).toISOString().split('T')[0],\r\n    endDate: new Date().toISOString().split('T')[0],\r\n    classYear: '',\r\n    classCode: '',\r\n    studentId: '',\r\n    searchTerm: '',\r\n    reportType: 'summary'\r\n  });\r\n\r\n  // Simple labels based on language\r\n  const L = {\r\n    report: currentLang === 'si' ? \"පැමිණීමේ වාර්තාව\" : \"Attendance Report\",\r\n    exportCSV: currentLang === 'si' ? \"CSV අපනයනය කරන්න\" : \"Export CSV\",\r\n    exportPDF: currentLang === 'si' ? \"PDF අපනයනය කරන්න\" : \"Export PDF\",\r\n    summaryReport: currentLang === 'si' ? \"සාරාංශ වාර්තාව\" : \"Summary Report\",\r\n    studentReport: currentLang === 'si' ? \"සිසු වාර්තාව\" : \"Student Report\",\r\n    classReport: currentLang === 'si' ? \"පන්ති වාර්තාව\" : \"Class Report\",\r\n    startDate: currentLang === 'si' ? \"ආරම්භක දිනය\" : \"Start Date\",\r\n    endDate: currentLang === 'si' ? \"අවසාන දිනය\" : \"End Date\",\r\n    classYear: currentLang === 'si' ? \"පන්ති වසර\" : \"Class Year\",\r\n    class: currentLang === 'si' ? \"පන්තිය\" : \"Class\",\r\n    allClasses: currentLang === 'si' ? \"සියළුම පන්ති\" : \"All Classes\",\r\n    search: currentLang === 'si' ? \"සොයන්න\" : \"Search\",\r\n    searchPlaceholder: currentLang === 'si' ? \"නමින් හෝ ID මගින් සොයන්න\" : \"Search by name or ID\",\r\n    selectStudent: currentLang === 'si' ? \"සිසුවා තෝරන්න\" : \"Select Student\",\r\n    select: currentLang === 'si' ? \"තෝරන්න\" : \"Select\",\r\n    summary: currentLang === 'si' ? \"සාරාංශය\" : \"Summary\",\r\n    totalDays: currentLang === 'si' ? \"මුළු දින ගණන\" : \"Total Days\",\r\n    avgPresent: currentLang === 'si' ? \"සාමාන්‍ය පැමිණීම\" : \"Average Present\",\r\n    avgAbsent: currentLang === 'si' ? \"සාමාන්‍ය නොපැමිණීම\" : \"Average Absent\",\r\n    avgLate: currentLang === 'si' ? \"සාමාන්‍ය ප්‍රමාද\" : \"Average Late\",\r\n    avgFlowers: currentLang === 'si' ? \"සාමාන්‍ය මල් පූජා\" : \"Average Flowers\",\r\n    date: currentLang === 'si' ? \"දිනය\" : \"Date\",\r\n    totalStudents: currentLang === 'si' ? \"මුළු සිසුන්\" : \"Total Students\",\r\n    present: currentLang === 'si' ? \"පැමිණ සිටි\" : \"Present\",\r\n    absent: currentLang === 'si' ? \"පැමිණ නොසිටි\" : \"Absent\",\r\n    late: currentLang === 'si' ? \"ප්‍රමාද වූ\" : \"Late\",\r\n    flowerOfferings: currentLang === 'si' ? \"මල් පූජා\" : \"Flower Offerings\",\r\n    attendanceRate: currentLang === 'si' ? \"පැමිණීමේ අනුපාතය\" : \"Attendance Rate\",\r\n    status: currentLang === 'si' ? \"තත්ත්වය\" : \"Status\",\r\n    reason: currentLang === 'si' ? \"හේතුව\" : \"Reason\",\r\n    flowerOffering: currentLang === 'si' ? \"මල් පූජාව\" : \"Flower Offering\",\r\n    noData: currentLang === 'si' ? \"දත්ත නොමැත\" : \"No data available\"\r\n  };\r\n\r\n  // Class labels\r\n  const CLASS_LABELS = {\r\n    ADH: { en: \"Adhiṭṭhāna\", si: \"අධිඨාන\" },\r\n    MET: { en: \"Mettā\", si: \"මෙත්තා\" },\r\n    KHA: { en: \"Khanti\", si: \"ඛන්ති\" },\r\n    NEK: { en: \"Nekkhamma\", si: \"නෙක්කම්ම\" }\r\n  };\r\n\r\n  // Fetch students based on filters\r\n  useEffect(() => {\r\n    const fetchStudents = async () => {\r\n      try {\r\n        const queryParams = new URLSearchParams();\r\n        if (filters.classYear) queryParams.append('classYear', filters.classYear);\r\n        if (filters.classCode) queryParams.append('classCode', filters.classCode);\r\n        \r\n        const response = await axios.get(`/api/students?${queryParams.toString()}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        \r\n        setStudents(response.data.data || []);\r\n      } catch (error) {\r\n        console.error('Error fetching students:', error);\r\n        setError(currentLang === 'si' ? \"සිසුන් ලබා ගැනීමේ දෝෂයකි\" : \"Failed to fetch students\");\r\n      }\r\n    };\r\n    \r\n    fetchStudents();\r\n  }, [filters.classYear, filters.classCode, currentLang]);\r\n\r\n  // Fetch report data\r\n  useEffect(() => {\r\n    const fetchReportData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const queryParams = new URLSearchParams();\r\n        queryParams.append('startDate', filters.startDate);\r\n        queryParams.append('endDate', filters.endDate);\r\n        \r\n        if (filters.classYear) queryParams.append('classYear', filters.classYear);\r\n        if (filters.classCode) queryParams.append('classCode', filters.classCode);\r\n        if (filters.studentId) queryParams.append('studentId', filters.studentId);\r\n        \r\n        let endpoint = '/api/attendance/report';\r\n        if (filters.reportType === 'student' && filters.studentId) {\r\n          endpoint = `/api/attendance/student/${filters.studentId}`;\r\n        }\r\n        \r\n        console.log(`Fetching report data from: ${endpoint}?${queryParams.toString()}`);\r\n        \r\n        const response = await axios.get(`${endpoint}?${queryParams.toString()}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        \r\n        console.log('Report data response:', response.data);\r\n        setReportData(response.data.data || []);\r\n      } catch (error) {\r\n        console.error('Error fetching report data:', error);\r\n        setError(currentLang === 'si' ? \"වාර්තා දත්ත ලබා ගැනීමට අසමත් විය\" : \"Failed to fetch report data\");\r\n        \r\n        // Generate mock data for development\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.log('Generating mock data for development');\r\n          const mockData = generateMockData();\r\n          setReportData(mockData);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchReportData();\r\n  }, [filters, currentLang]);\r\n\r\n  // Generate mock data for development\r\n  const generateMockData = () => {\r\n    if (filters.reportType === 'student') {\r\n      // Generate student-specific mock data\r\n      return Array.from({ length: 10 }, (_, i) => {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - i);\r\n        return {\r\n          date: date.toISOString().split('T')[0],\r\n          status: ['present', 'absent', 'late'][Math.floor(Math.random() * 3)],\r\n          reason: Math.random() > 0.7 ? 'Sick leave' : '',\r\n          flowerOffering: { brought: Math.random() > 0.6 }\r\n        };\r\n      });\r\n    } else {\r\n      // Generate summary mock data\r\n      return Array.from({ length: 5 }, (_, i) => {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - i);\r\n        const total = 50;\r\n        const present = Math.floor(Math.random() * 20) + 25;\r\n        const late = Math.floor(Math.random() * 5);\r\n        const absent = total - present - late;\r\n        \r\n        return {\r\n          date: date.toISOString().split('T')[0],\r\n          total,\r\n          present,\r\n          absent,\r\n          late,\r\n          flowerOfferings: Math.floor(Math.random() * 15),\r\n          attendanceRate: ((present + late) / total * 100).toFixed(1)\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleStudentSelect = (e) => {\r\n    const selectedId = e.target.value;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      studentId: selectedId,\r\n      reportType: selectedId ? 'student' : 'summary'\r\n    }));\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setFilters(prev => ({ ...prev, searchTerm: e.target.value }));\r\n  };\r\n\r\n  // Filter students by search term\r\n  const filteredStudents = useMemo(() => {\r\n    return students.filter(student => \r\n      !filters.searchTerm ||\r\n      student.name.en.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\r\n      student.name.si?.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||\r\n      student.studentId.toLowerCase().includes(filters.searchTerm.toLowerCase())\r\n    );\r\n  }, [students, filters.searchTerm]);\r\n\r\n  // Generate and download CSV\r\n  const handleExportCSV = () => {\r\n    if (!reportData.length) return;\r\n    \r\n    let csvContent, filename;\r\n    \r\n    if (filters.reportType === 'student') {\r\n      // Student-specific attendance report\r\n      const studentInfo = students.find(s => s._id === filters.studentId);\r\n      const headers = [L.date, L.status, L.reason, L.flowerOffering];\r\n      const rows = reportData.map(record => [\r\n        new Date(record.date).toLocaleDateString(),\r\n        record.status.charAt(0).toUpperCase() + record.status.slice(1),\r\n        record.reason || '',\r\n        record.flowerOffering?.brought ? 'Yes' : 'No'\r\n      ]);\r\n      \r\n      csvContent = [\r\n        headers.join(','),\r\n        ...rows.map(row => row.join(','))\r\n      ].join('\\n');\r\n      \r\n      filename = `${studentInfo?.studentId || 'student'}_attendance_${filters.startDate}_${filters.endDate}.csv`;\r\n    } else {\r\n      // Summary or class attendance report\r\n      const headers = [L.date, L.totalStudents, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings];\r\n      const rows = reportData.map(day => [\r\n        new Date(day.date).toLocaleDateString(),\r\n        day.total,\r\n        day.present,\r\n        day.absent,\r\n        day.late,\r\n        `${day.attendanceRate}%`,\r\n        day.flowerOfferings || 0\r\n      ]);\r\n      \r\n      csvContent = [\r\n        headers.join(','),\r\n        ...rows.map(row => row.join(','))\r\n      ].join('\\n');\r\n      \r\n      filename = `attendance_report_${filters.startDate}_${filters.endDate}.csv`;\r\n    }\r\n    \r\n    // Create and download CSV file\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', filename);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  // Generate and download PDF\r\n  const handleExportPDF = () => {\r\n    if (!reportData.length) return;\r\n    \r\n    const doc = new jsPDF();\r\n    \r\n    // Add title\r\n    doc.setFontSize(18);\r\n    doc.text(L.report, doc.internal.pageSize.width / 2, 15, { align: 'center' });\r\n    \r\n    // Add report parameters\r\n    doc.setFontSize(10);\r\n    doc.text(`${L.startDate}: ${new Date(filters.startDate).toLocaleDateString()} - ${L.endDate}: ${new Date(filters.endDate).toLocaleDateString()}`, 14, 25);\r\n    \r\n    if (filters.classYear) {\r\n      doc.text(`${L.classYear}: ${filters.classYear}`, 14, 30);\r\n    }\r\n    \r\n    if (filters.classCode) {\r\n      const className = CLASS_LABELS[filters.classCode]?.[currentLang] || filters.classCode;\r\n      doc.text(`${L.class}: ${className}`, 14, 35);\r\n    }\r\n    \r\n    if (filters.studentId && filters.reportType === 'student') {\r\n      const student = students.find(s => s._id === filters.studentId);\r\n      if (student) {\r\n        doc.text(`Student: ${student.name[currentLang] || student.name.en} (${student.studentId})`, 14, 40);\r\n      }\r\n    }\r\n    \r\n    // Add report data as table\r\n    if (filters.reportType === 'student') {\r\n      doc.autoTable({\r\n        startY: 50,\r\n        head: [[L.date, L.status, L.reason, L.flowerOffering]],\r\n        body: reportData.map(record => [\r\n          new Date(record.date).toLocaleDateString(),\r\n          record.status.charAt(0).toUpperCase() + record.status.slice(1),\r\n          record.reason || '',\r\n          record.flowerOffering?.brought ? 'Yes' : 'No'\r\n        ])\r\n      });\r\n      \r\n      // Add summary statistics\r\n      if (reportData.summary) {\r\n        doc.setFontSize(12);\r\n        doc.text(L.summary, 14, doc.lastAutoTable.finalY + 15);\r\n        \r\n        doc.autoTable({\r\n          startY: doc.lastAutoTable.finalY + 20,\r\n          head: [[L.totalDays, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings]],\r\n          body: [[\r\n            reportData.summary.total,\r\n            reportData.summary.present,\r\n            reportData.summary.absent,\r\n            reportData.summary.late,\r\n            `${reportData.summary.attendanceRate}%`,\r\n            reportData.summary.flowerOfferings || 0\r\n          ]]\r\n        });\r\n      }\r\n    } else {\r\n      doc.autoTable({\r\n        startY: 50,\r\n        head: [[L.date, L.totalStudents, L.present, L.absent, L.late, L.attendanceRate, L.flowerOfferings]],\r\n        body: reportData.map(day => [\r\n          new Date(day.date).toLocaleDateString(),\r\n          day.total || 0,\r\n          day.present || 0,\r\n          day.absent || 0,\r\n          day.late || 0,\r\n          `${day.attendanceRate || 0}%`,\r\n          day.flowerOfferings || 0\r\n        ])\r\n      });\r\n    }\r\n    \r\n    // Save PDF\r\n    doc.save(`attendance_report_${filters.startDate}_${filters.endDate}.pdf`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4 md:mb-0\">\r\n            {L.report}\r\n          </h2>\r\n          <div className=\"flex space-x-2\">\r\n            <button\r\n              onClick={handleExportCSV}\r\n              disabled={!reportData.length}\r\n              className=\"flex items-center px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n            >\r\n              <FaFileCsv className=\"mr-2\" />\r\n              {L.exportCSV}\r\n            </button>\r\n            <button\r\n              onClick={handleExportPDF}\r\n              disabled={!reportData.length}\r\n              className=\"flex items-center px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors disabled:opacity-50\"\r\n            >\r\n              <FaFilePdf className=\"mr-2\" />\r\n              {L.exportPDF}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Report Type Selection */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"border-b border-gray-200 dark:border-gray-700 mb-4\">\r\n            <nav className=\"-mb-px flex space-x-6\">\r\n              <button\r\n                onClick={() => setFilters(prev => ({ ...prev, reportType: 'summary', studentId: '' }))}\r\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                  filters.reportType === 'summary'\r\n                    ? 'border-blue-500 text-blue-600 dark:text-blue-400'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'\r\n                }`}\r\n              >\r\n                {L.summaryReport}\r\n              </button>\r\n              <button\r\n                onClick={() => setFilters(prev => ({ ...prev, reportType: 'student' }))}\r\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                  filters.reportType === 'student'\r\n                    ? 'border-blue-500 text-blue-600 dark:text-blue-400'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'\r\n                }`}\r\n              >\r\n                {L.studentReport}\r\n              </button>\r\n              <button\r\n                onClick={() => setFilters(prev => ({ ...prev, reportType: 'class', studentId: '' }))}\r\n                className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                  filters.reportType === 'class'\r\n                    ? 'border-blue-500 text-blue-600 dark:text-blue-400'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-300'\r\n                }`}\r\n              >\r\n                {L.classReport}\r\n              </button>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.startDate}\r\n            </label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"date\"\r\n                name=\"startDate\"\r\n                value={filters.startDate}\r\n                onChange={handleFilterChange}\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              />\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <FaCalendarAlt className=\"h-4 w-4 text-gray-400\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.endDate}\r\n            </label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"date\"\r\n                name=\"endDate\"\r\n                value={filters.endDate}\r\n                onChange={handleFilterChange}\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              />\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <FaCalendarAlt className=\"h-4 w-4 text-gray-400\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.classYear}\r\n            </label>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"classYear\"\r\n                value={filters.classYear}\r\n                onChange={handleFilterChange}\r\n                placeholder=\"2023\"\r\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n              />\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <FaFilter className=\"h-4 w-4 text-gray-400\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n              {L.class}\r\n            </label>\r\n            <select\r\n              name=\"classCode\"\r\n              value={filters.classCode}\r\n              onChange={handleFilterChange}\r\n              className=\"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n            >\r\n              <option value=\"\">{L.allClasses}</option>\r\n              <option value=\"ADH\">{CLASS_LABELS.ADH[currentLang]}</option>\r\n              <option value=\"MET\">{CLASS_LABELS.MET[currentLang]}</option>\r\n              <option value=\"KHA\">{CLASS_LABELS.KHA[currentLang]}</option>\r\n              <option value=\"NEK\">{CLASS_LABELS.NEK[currentLang]}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Student Selection (only for student report) */}\r\n        {filters.reportType === 'student' && (\r\n          <div className=\"mb-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"col-span-1\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  {L.search}\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={filters.searchTerm}\r\n                    onChange={handleSearch}\r\n                    placeholder={L.searchPlaceholder}\r\n                    className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                  />\r\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                    <FaUserAlt className=\"h-4 w-4 text-gray-400\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  {L.selectStudent}\r\n                </label>\r\n                <select\r\n                  value={filters.studentId}\r\n                  onChange={handleStudentSelect}\r\n                  className=\"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\r\n                >\r\n                  <option value=\"\">{L.select}</option>\r\n                  {filteredStudents.map(student => (\r\n                    <option key={student._id} value={student._id}>\r\n                      {student.name[currentLang] || student.name.en} ({student.studentId})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Report Data Table */}\r\n        <div>\r\n          {loading ? (\r\n            <div className=\"text-center py-4\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"text-red-500 text-center py-4\">\r\n              {error}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {filters.reportType === 'summary' && (\r\n                <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">\r\n                    {L.summary}\r\n                  </h3>\r\n                  \r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                        {L.totalDays}\r\n                      </h4>\r\n                      <p className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\r\n                        {reportData.length}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                        {L.avgPresent}\r\n                      </h4>\r\n                      <p className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\r\n                        {reportData.length > 0 \r\n                          ? `${(reportData.reduce((sum, day) => sum + day.present, 0) / reportData.length).toFixed(1)} (${((reportData.reduce((sum, day) => sum + day.present, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1)) * 100).toFixed(1)}%)`\r\n                          : '0 (0%)'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                        {L.avgAbsent}\r\n                      </h4>\r\n                      <p className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\r\n                        {reportData.length > 0\r\n                          ? `${(reportData.reduce((sum, day) => sum + day.absent, 0) / reportData.length).toFixed(1)} (${((reportData.reduce((sum, day) => sum + day.absent, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1)) * 100).toFixed(1)}%)`\r\n                          : '0 (0%)'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                        {L.avgLate}\r\n                      </h4>\r\n                      <p className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\r\n                        {reportData.length > 0\r\n                          ? `${(reportData.reduce((sum, day) => sum + day.late, 0) / reportData.length).toFixed(1)} (${((reportData.reduce((sum, day) => sum + day.late, 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1)) * 100).toFixed(1)}%)`\r\n                          : '0 (0%)'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                        {L.avgFlowers}\r\n                      </h4>\r\n                      <p className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">\r\n                        {reportData.length > 0\r\n                          ? `${(reportData.reduce((sum, day) => sum + (day.flowerOfferings || 0), 0) / reportData.length).toFixed(1)} (${((reportData.reduce((sum, day) => sum + (day.flowerOfferings || 0), 0) / (reportData.reduce((sum, day) => sum + day.total, 0) || 1)) * 100).toFixed(1)}%)`\r\n                          : '0 (0%)'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"overflow-hidden rounded-lg border border-gray-200 dark:border-gray-700 mb-6\">\r\n                <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                  <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n                    <tr>\r\n                      {filters.reportType === 'summary' && (\r\n                        <>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.date}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.totalStudents}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.present}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.absent}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.late}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.flowerOfferings}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.attendanceRate}\r\n                          </th>\r\n                        </>\r\n                      )}\r\n                      \r\n                      {filters.reportType === 'student' && (\r\n                        <>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.date}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.status}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.reason}\r\n                          </th>\r\n                          <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            {L.flowerOffering}\r\n                          </th>\r\n                        </>\r\n                      )}\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700\">\r\n                    {reportData.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan={filters.reportType === 'summary' ? 7 : 4} className=\"px-6 py-4 text-center text-gray-500\">\r\n                          {L.noData}\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      reportData.map((day, idx) => (\r\n                        <tr key={`${day.date}-${idx}`}>\r\n                          {filters.reportType === 'summary' && (\r\n                            <>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {new Date(day.date).toLocaleDateString()}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.total}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.present}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.absent}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.late}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.flowerOfferings || 0}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.attendanceRate}%\r\n                                </div>\r\n                              </td>\r\n                            </>\r\n                          )}\r\n                          \r\n                          {filters.reportType === 'student' && (\r\n                            <>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {new Date(day.date).toLocaleDateString()}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.status.charAt(0).toUpperCase() + day.status.slice(1)}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.reason || '-'}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-900 dark:text-white\">\r\n                                  {day.flowerOffering?.brought ? 'Yes' : 'No'}\r\n                                </div>\r\n                              </td>\r\n                            </>\r\n                          )}\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceReport;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}